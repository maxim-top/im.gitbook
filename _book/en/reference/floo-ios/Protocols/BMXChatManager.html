
<!DOCTYPE HTML>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>LANYING.IM - Professional SDK, Monthly Charged Private Cloud</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="description" content>
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="jinhai">
        
        
    
    <link rel="stylesheet" href="../../../../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-fontsettings/website.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-prism/prism-base16-ateliersulphurpool.light.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-lanying-code-snippet/lanying-code-snippet.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-search-plus/search.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-advanced-emoji/emoji-website.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-versions-select/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-terminal/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-image-captions/image-captions.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-auto-scroll-table/website.css">
                
            
                
                <link rel="stylesheet" href="../../../../gitbook/gitbook-plugin-intopic-toc/style.css">
                
            
        

    

    
        
        <link rel="stylesheet" href="../../../assets/styles/website.css">
        
    

        
    
    
    
    
    
    <meta name="keywords" content="Lanying IM, Maximtop, IM SDK, Instant Messaging, IM Cloud, IM Cloud Service, Mobile IM, Open Source IM, Enterprise IM, Chat Software, Mobile Customer Service, Online Customer Service, IM Business Scenario, APP Social, Developer Service, Live Chatroom, Live Audio/Video, Audio/Video, Live Platform, Maximtop Anti-spam, Content Security">
    
    
    
    
    <meta name="HandheldFriendly" content="true">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../../../../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../../../../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="BMXChatServiceProtocol.html">
    
    
    <link rel="prev" href="../protocols.html">
    


    <link rel="canonical" href="https://docs.lanyingim.com/reference/floo-ios/Protocols/BMXChatManager.html">

    
        <link rel="shortcut icon" href="../../../assets/favicon.ico" type="image/x-icon">
    
    
        <link rel="bookmark" href="../../../assets/favicon.ico" type="image/x-icon">
    
    
    

    <style>
    @media only screen and (max-width: 640px) {
        .book-header .hidden-mobile {
            display: none;
        }
    }
    </style>
    <script>
        window["gitbook-plugin-github-buttons"] = {"repo":"maxim-top/im.gitbook","types":["star"],"size":"small"};
    </script>

    </head>
    <body>
        
<div class="book">
    <div class="book-summary"><a href="https://www.lanyingim.com" class="book-logo-root"><div class="book-logo" style="text-align: center; padding: 20px;"><img src="/assets/lanying-logo-color-en.png" style="height: 35px;align:left;"></div></a>
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="Type to search">
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../../../">
            
                <a href="../../../">
            
                    
                    Instant Messaging Development Guide (IM)
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2" data-path="../../../quick-start/">
            
                <a href="../../../quick-start/">
            
                    
                    Quick Start
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.2.1" data-path="../../../quick-start/floo-ios-quick-start.html">
            
                <a href="../../../quick-start/floo-ios-quick-start.html">
            
                    
                    IOS SDK Quick Start
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.2" data-path="../../../quick-start/floo-android-quick-start.html">
            
                <a href="../../../quick-start/floo-android-quick-start.html">
            
                    
                    Android SDK Quick Start
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.3" data-path="../../../quick-start/floo-quick-start.html">
            
                <a href="../../../quick-start/floo-quick-start.html">
            
                    
                    C++ SDK Quick Start
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.4" data-path="../../../quick-start/floo-web-quick-start.html">
            
                <a href="../../../quick-start/floo-web-quick-start.html">
            
                    
                    Web SDK Quick Start
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.5" data-path="../../../quick-start/server-api-quick-start.html">
            
                <a href="../../../quick-start/server-api-quick-start.html">
            
                    
                    Server API Development Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.6" data-path="../../../quick-start/push-dev-guide.html">
            
                <a href="../../../quick-start/push-dev-guide.html">
            
                    
                    Push Development Guide
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.2.7" data-path="../../../quick-start/how-to-deploy-private-cloud.html">
            
                <a href="../../../quick-start/how-to-deploy-private-cloud.html">
            
                    
                    Private Cloud Deployment
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3" data-path="../../">
            
                <a href="../../">
            
                    
                    API Reference
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1" data-path="../../floo-ios.html">
            
                <a href="../../floo-ios.html">
            
                    
                    IOS SDK API (floo-ios)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1" data-path="../classes.html">
            
                <a href="../classes.html">
            
                    
                    Classes
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.1.1" data-path="../Classes/BMXClient.html">
            
                <a href="../Classes/BMXClient.html">
            
                    
                    BMXClient
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.2" data-path="../Classes/BMXConversation.html">
            
                <a href="../Classes/BMXConversation.html">
            
                    
                    BMXConversation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.3" data-path="../Classes/BMXCreatGroupOption.html">
            
                <a href="../Classes/BMXCreatGroupOption.html">
            
                    
                    BMXCreatGroupOption
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.4" data-path="../Classes/BMXDevice.html">
            
                <a href="../Classes/BMXDevice.html">
            
                    
                    BMXDevice
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.5" data-path="../Classes/BMXFileAttachment.html">
            
                <a href="../Classes/BMXFileAttachment.html">
            
                    
                    BMXFileAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.6" data-path="../Classes/BMXGroup.html">
            
                <a href="../Classes/BMXGroup.html">
            
                    
                    BMXGroup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.7" data-path="../Classes/BMXImageAttachment.html">
            
                <a href="../Classes/BMXImageAttachment.html">
            
                    
                    BMXImageAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.8" data-path="../Classes/BMXLocationAttachment.html">
            
                <a href="../Classes/BMXLocationAttachment.html">
            
                    
                    BMXLocationAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.9" data-path="../Classes/BMXMessageAttachment.html">
            
                <a href="../Classes/BMXMessageAttachment.html">
            
                    
                    BMXMessageAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.10" data-path="../Classes/BMXMessageConfig.html">
            
                <a href="../Classes/BMXMessageConfig.html">
            
                    
                    BMXMessageConfig
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.11" data-path="../Classes/BMXMessageObject.html">
            
                <a href="../Classes/BMXMessageObject.html">
            
                    
                    BMXMessageObject
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.12" data-path="../Classes/BMXMessageSetting.html">
            
                <a href="../Classes/BMXMessageSetting.html">
            
                    
                    BMXMessageSetting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.13" data-path="../Classes/BMXPushUserProfile.html">
            
                <a href="../Classes/BMXPushUserProfile.html">
            
                    
                    BMXPushUserProfile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.14" data-path="../Classes/BMXRoster.html">
            
                <a href="../Classes/BMXRoster.html">
            
                    
                    BMXRoster
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.15" data-path="../Classes/BMXSDKConfig.html">
            
                <a href="../Classes/BMXSDKConfig.html">
            
                    
                    BMXSDKConfig
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.16" data-path="../Classes/BMXUserProfile.html">
            
                <a href="../Classes/BMXUserProfile.html">
            
                    
                    BMXUserProfile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.17" data-path="../Classes/BMXVideoAttachment.html">
            
                <a href="../Classes/BMXVideoAttachment.html">
            
                    
                    BMXVideoAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.1.18" data-path="../Classes/BMXVoiceAttachment.html">
            
                <a href="../Classes/BMXVoiceAttachment.html">
            
                    
                    BMXVoiceAttachment
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.2" data-path="../protocols.html">
            
                <a href="../protocols.html">
            
                    
                    Protocols
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter active" data-level="1.3.1.2.1" data-path="BMXChatManager.html">
            
                <a href="BMXChatManager.html">
            
                    
                    BMXChatManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.2" data-path="BMXChatServiceProtocol.html">
            
                <a href="BMXChatServiceProtocol.html">
            
                    
                    BMXChatServiceProtocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.3" data-path="BMXGroupManager.html">
            
                <a href="BMXGroupManager.html">
            
                    
                    BMXGroupManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.4" data-path="BMXGroupServiceProtocol.html">
            
                <a href="BMXGroupServiceProtocol.html">
            
                    
                    BMXGroupServiceProtocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.5" data-path="BMXPushManager.html">
            
                <a href="BMXPushManager.html">
            
                    
                    BMXPushManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.6" data-path="BMXPushServiceProtocol.html">
            
                <a href="BMXPushServiceProtocol.html">
            
                    
                    BMXPushServiceProtocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.7" data-path="BMXRosterManager.html">
            
                <a href="BMXRosterManager.html">
            
                    
                    BMXRosterManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.8" data-path="BMXRosterServiceProtocol.html">
            
                <a href="BMXRosterServiceProtocol.html">
            
                    
                    BMXRosterServiceProtocol
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.9" data-path="BMXUserManager.html">
            
                <a href="BMXUserManager.html">
            
                    
                    BMXUserManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.2.10" data-path="BMXUserServiceProtocol.html">
            
                <a href="BMXUserServiceProtocol.html">
            
                    
                    BMXUserServiceProtocol
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.1.3" data-path="../constants.html">
            
                <a href="../constants.html">
            
                    
                    Constants
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.1.3.1" data-path="../Constants/BMXAttachmentDownloadStatus.html">
            
                <a href="../Constants/BMXAttachmentDownloadStatus.html">
            
                    
                    BMXAttachmentDownloadStatus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3.2" data-path="../Constants/BMXAttachmentType.html">
            
                <a href="../Constants/BMXAttachmentType.html">
            
                    
                    BMXAttachmentType
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3.3" data-path="../Constants/BMXConnectStatus.html">
            
                <a href="../Constants/BMXConnectStatus.html">
            
                    
                    BMXConnectStatus
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3.4" data-path="../Constants/BMXErrorCode.html">
            
                <a href="../Constants/BMXErrorCode.html">
            
                    
                    BMXErrorCode
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3.5" data-path="../Constants/BMXLogLevel.html">
            
                <a href="../Constants/BMXLogLevel.html">
            
                    
                    BMXLogLevel
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3.6" data-path="../Constants/BMXNetworkType.html">
            
                <a href="../Constants/BMXNetworkType.html">
            
                    
                    BMXNetworkType
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.1.3.7" data-path="../Constants/BMXSignInStatus.html">
            
                <a href="../Constants/BMXSignInStatus.html">
            
                    
                    BMXSignInStatus
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2" data-path="../../floo-android.html">
            
                <a href="../../floo-android.html">
            
                    
                    Android SDK API (floo-android)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.1" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_chat_manager.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_chat_manager.html">
            
                    
                    im::floo::floolib::BMXChatManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.2" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_chat_service.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_chat_service.html">
            
                    
                    im::floo::floolib::BMXChatService
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.3" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_chat_service_listener.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_chat_service_listener.html">
            
                    
                    im::floo::floolib::BMXChatServiceListener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.4" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_client.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_client.html">
            
                    
                    im::floo::floolib::BMXClient
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.5" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_conversation.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_conversation.html">
            
                    
                    im::floo::floolib::BMXConversation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.6" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_device.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_device.html">
            
                    
                    im::floo::floolib::BMXDevice
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.7" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_file_attachment.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_file_attachment.html">
            
                    
                    im::floo::floolib::BMXFileAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.8" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group.html">
            
                    
                    im::floo::floolib::BMXGroup
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.8.1" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_1_1_announcement.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_1_1_announcement.html">
            
                    
                    Announcement
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.8.2" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_1_1_application.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_1_1_application.html">
            
                    
                    Application
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.9" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_1_1_banned_member.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_1_1_banned_member.html">
            
                    
                    im::floo::floolib::BMXGroup::BannedMember
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.10" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_1_1_invitation.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_1_1_invitation.html">
            
                    
                    im::floo::floolib::BMXGroup::Invitation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.11" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_1_1_member.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_1_1_member.html">
            
                    
                    im::floo::floolib::BMXGroup::Member
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.12" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_1_1_shared_file.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_1_1_shared_file.html">
            
                    
                    im::floo::floolib::BMXGroup::SharedFile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.13" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_manager.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_manager.html">
            
                    
                    im::floo::floolib::BMXGroupManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.14" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_service.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_service.html">
            
                    
                    im::floo::floolib::BMXGroupService
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.14.1" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_service_1_1_create_group_options.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_service_1_1_create_group_options.html">
            
                    
                    CreateGroupOptions
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.15" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_service_listener.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_group_service_listener.html">
            
                    
                    im::floo::floolib::BMXGroupServiceListener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.16" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_image_attachment.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_image_attachment.html">
            
                    
                    im::floo::floolib::BMXImageAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.17" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_location_attachment.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_location_attachment.html">
            
                    
                    im::floo::floolib::BMXLocationAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.18" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_message.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_message.html">
            
                    
                    im::floo::floolib::BMXMessage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.19" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_message_attachment.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_message_attachment.html">
            
                    
                    im::floo::floolib::BMXMessageAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.20" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_message_attachment_1_1_size.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_message_attachment_1_1_size.html">
            
                    
                    im::floo::floolib::BMXMessageAttachment::Size
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.21" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_message_config.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_message_config.html">
            
                    
                    im::floo::floolib::BMXMessageConfig
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.22" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_network_listener.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_network_listener.html">
            
                    
                    im::floo::floolib::BMXNetworkListener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.23" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_push_manager.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_push_manager.html">
            
                    
                    im::floo::floolib::BMXPushManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.24" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_push_service.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_push_service.html">
            
                    
                    im::floo::floolib::BMXPushService
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.25" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_push_service_listener.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_push_service_listener.html">
            
                    
                    im::floo::floolib::BMXPushServiceListener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.26" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_push_user_profile.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_push_user_profile.html">
            
                    
                    im::floo::floolib::BMXPushUserProfile
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.26.1" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_push_user_profile_1_1_message_push_setting.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_push_user_profile_1_1_message_push_setting.html">
            
                    
                    MessagePushSetting
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.27" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_roster_item.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_roster_item.html">
            
                    
                    im::floo::floolib::BMXRosterItem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.28" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_roster_manager.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_roster_manager.html">
            
                    
                    im::floo::floolib::BMXRosterManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.29" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_roster_service.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_roster_service.html">
            
                    
                    im::floo::floolib::BMXRosterService
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.29.1" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_roster_service_1_1_application.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_roster_service_1_1_application.html">
            
                    
                    Application
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.30" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_roster_service_listener.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_roster_service_listener.html">
            
                    
                    im::floo::floolib::BMXRosterServiceListener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.31" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_s_d_k_config.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_s_d_k_config.html">
            
                    
                    im::floo::floolib::BMXSDKConfig
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.2.31.1" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_s_d_k_config_1_1_host_config.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_s_d_k_config_1_1_host_config.html">
            
                    
                    HostConfig
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.2.32" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_user_manager.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_user_manager.html">
            
                    
                    im::floo::floolib::BMXUserManager
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.33" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_user_profile.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_user_profile.html">
            
                    
                    im::floo::floolib::BMXUserProfile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.34" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_user_profile_1_1_auth_question.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_user_profile_1_1_auth_question.html">
            
                    
                    im::floo::floolib::BMXUserProfile::AuthQuestion
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.35" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_user_profile_1_1_message_setting.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_user_profile_1_1_message_setting.html">
            
                    
                    im::floo::floolib::BMXUserProfile::MessageSetting
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.36" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_user_service.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_user_service.html">
            
                    
                    im::floo::floolib::BMXUserService
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.37" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_user_service_listener.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_user_service_listener.html">
            
                    
                    im::floo::floolib::BMXUserServiceListener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.38" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_video_attachment.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_video_attachment.html">
            
                    
                    im::floo::floolib::BMXVideoAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.2.39" data-path="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_voice_attachment.html">
            
                <a href="../../floo-android/classim_1_1floo_1_1floolib_1_1_b_m_x_voice_attachment.html">
            
                    
                    im::floo::floolib::BMXVoiceAttachment
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3" data-path="../../floo.html">
            
                <a href="../../floo.html">
            
                    
                    C++ SDK API (floo)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.1" data-path="../../floo/classfloo_1_1_b_m_x_chat_service.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_chat_service.html">
            
                    
                    floo::BMXChatService
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.2" data-path="../../floo/classfloo_1_1_b_m_x_chat_service_listener.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_chat_service_listener.html">
            
                    
                    floo::BMXChatServiceListener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.3" data-path="../../floo/classfloo_1_1_b_m_x_client.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_client.html">
            
                    
                    floo::BMXClient
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.4" data-path="../../floo/classfloo_1_1_b_m_x_conversation.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_conversation.html">
            
                    
                    floo::BMXConversation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.5" data-path="../../floo/classfloo_1_1_b_m_x_device.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_device.html">
            
                    
                    floo::BMXDevice
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.6" data-path="../../floo/classfloo_1_1_b_m_x_error.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_error.html">
            
                    
                    floo::BMXError
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.7" data-path="../../floo/classfloo_1_1_b_m_x_file_attachment.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_file_attachment.html">
            
                    
                    floo::BMXFileAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.8" data-path="../../floo/classfloo_1_1_b_m_x_forward_attachment.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_forward_attachment.html">
            
                    
                    floo::BMXForwardAttachment
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.3.8.1" data-path="../../floo/classfloo_1_1_b_m_x_forward_attachment_1_1_message.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_forward_attachment_1_1_message.html">
            
                    
                    Message
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.3.9" data-path="../../floo/classfloo_1_1_b_m_x_group.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_group.html">
            
                    
                    floo::BMXGroup
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.10" data-path="../../floo/classfloo_1_1_b_m_x_group_service.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_group_service.html">
            
                    
                    floo::BMXGroupService
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.11" data-path="../../floo/classfloo_1_1_b_m_x_group_service_listener.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_group_service_listener.html">
            
                    
                    floo::BMXGroupServiceListener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.12" data-path="../../floo/classfloo_1_1_b_m_x_image_attachment.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_image_attachment.html">
            
                    
                    floo::BMXImageAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.13" data-path="../../floo/classfloo_1_1_b_m_x_location_attachment.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_location_attachment.html">
            
                    
                    floo::BMXLocationAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.14" data-path="../../floo/classfloo_1_1_b_m_x_message.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_message.html">
            
                    
                    floo::BMXMessage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.15" data-path="../../floo/classfloo_1_1_b_m_x_message_attachment.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_message_attachment.html">
            
                    
                    floo::BMXMessageAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.16" data-path="../../floo/classfloo_1_1_b_m_x_message_config.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_message_config.html">
            
                    
                    floo::BMXMessageConfig
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.17" data-path="../../floo/classfloo_1_1_b_m_x_network_listener.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_network_listener.html">
            
                    
                    floo::BMXNetworkListener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.18" data-path="../../floo/classfloo_1_1_b_m_x_push_service.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_push_service.html">
            
                    
                    floo::BMXPushService
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.19" data-path="../../floo/classfloo_1_1_b_m_x_push_service_listener.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_push_service_listener.html">
            
                    
                    floo::BMXPushServiceListener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.20" data-path="../../floo/classfloo_1_1_b_m_x_push_user_profile.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_push_user_profile.html">
            
                    
                    floo::BMXPushUserProfile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.21" data-path="../../floo/classfloo_1_1_b_m_x_result_page.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_result_page.html">
            
                    
                    floo::BMXResultPage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.22" data-path="../../floo/classfloo_1_1_b_m_x_roster_item.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_roster_item.html">
            
                    
                    floo::BMXRosterItem
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.23" data-path="../../floo/classfloo_1_1_b_m_x_roster_service.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_roster_service.html">
            
                    
                    floo::BMXRosterService
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.24" data-path="../../floo/classfloo_1_1_b_m_x_roster_service_listener.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_roster_service_listener.html">
            
                    
                    floo::BMXRosterServiceListener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.25" data-path="../../floo/classfloo_1_1_b_m_x_s_d_k_config.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_s_d_k_config.html">
            
                    
                    floo::BMXSDKConfig
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.26" data-path="../../floo/classfloo_1_1_b_m_x_user_profile.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_user_profile.html">
            
                    
                    floo::BMXUserProfile
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.27" data-path="../../floo/classfloo_1_1_b_m_x_user_service.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_user_service.html">
            
                    
                    floo::BMXUserService
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.28" data-path="../../floo/classfloo_1_1_b_m_x_user_service_listener.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_user_service_listener.html">
            
                    
                    floo::BMXUserServiceListener
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.29" data-path="../../floo/classfloo_1_1_b_m_x_video_attachment.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_video_attachment.html">
            
                    
                    floo::BMXVideoAttachment
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.3.30" data-path="../../floo/classfloo_1_1_b_m_x_voice_attachment.html">
            
                <a href="../../floo/classfloo_1_1_b_m_x_voice_attachment.html">
            
                    
                    floo::BMXVoiceAttachment
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.4" data-path="../../floo-web.html">
            
                <a href="../../floo-web.html">
            
                    
                    Web SDK API (floo-web)
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.4.1" data-path="../../floo-web/flooim.html">
            
                <a href="../../floo-web/flooim.html">
            
                    
                    flooim
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.2" data-path="../../floo-web/userManage.html">
            
                <a href="../../floo-web/userManage.html">
            
                    
                    userManage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.3" data-path="../../floo-web/rosterManage.html">
            
                <a href="../../floo-web/rosterManage.html">
            
                    
                    rosterManage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.4" data-path="../../floo-web/groupManage.html">
            
                <a href="../../floo-web/groupManage.html">
            
                    
                    groupManage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.5" data-path="../../floo-web/sysManage.html">
            
                <a href="../../floo-web/sysManage.html">
            
                    
                    sysManage
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.4.6" data-path="../../floo-web/types.html">
            
                <a href="../../floo-web/types.html">
            
                    
                    types
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    
        <li class="chapter " data-level="1.3.5" data-path="../../server-api/">
            
                <a href="../../server-api/">
            
                    
                    Server API
            
                </a>
            

            
            <ul class="articles">
                
    
        <li class="chapter " data-level="1.3.5.1" data-path="../../server-api/user.html">
            
                <a href="../../server-api/user.html">
            
                    
                    User Operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.2" data-path="../../server-api/token.html">
            
                <a href="../../server-api/token.html">
            
                    
                    Token Interface
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.3" data-path="../../server-api/roster.html">
            
                <a href="../../server-api/roster.html">
            
                    
                    Roster Operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.4" data-path="../../server-api/group.html">
            
                <a href="../../server-api/group.html">
            
                    
                    Group Operation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.5" data-path="../../server-api/message.html">
            
                <a href="../../server-api/message.html">
            
                    
                    Message Manipulation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.6" data-path="../../server-api/file.html">
            
                <a href="../../server-api/file.html">
            
                    
                    File Manipulation
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="1.3.5.7" data-path="../../server-api/push.html">
            
                <a href="../../server-api/push.html">
            
                    
                    Push Interface
            
                </a>
            

            
        </li>
    

            </ul>
            
        </li>
    

            </ul>
            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            Published with GitBook
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href="../../..">BMXChatManager</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="bmxchatmanager-protocol-reference">BMXChatManager Protocol Reference</h1>
<p>  <strong>Conforms to</strong> NSObject<br>  <strong>Declared in</strong> BMXChatManager.h  </p>
<h2 id="overview">Overview</h2>
<p>Chat manager</p>
<h2 id="instance-methods">Instance Methods</h2>
<p><a name="//api/name/ackMessage:" title="ackMessage:"></a></p>
<h3 id="ackmessage">ackMessage:</h3>
<p>Send read acknowledgement</p>
<p><code>- (void)ackMessage:(BMXMessageObject *)*message*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Send read acknowledgement</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/ackMessageDelivered:" title="ackMessageDelivered:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>ackMessage<span class="token operator">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>LHMessageModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>modelArray <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>LHMessageModel <span class="token operator">*</span>model in modelArray<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>model<span class="token punctuation">.</span>class isKindOfClass<span class="token operator">:</span><span class="token punctuation">[</span>LHMessageModel class<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>model<span class="token punctuation">.</span>isSender <span class="token operator">&amp;&amp;</span> model<span class="token punctuation">.</span>messageObjc<span class="token punctuation">.</span>isReadAcked <span class="token operator">==</span> NO<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> ackMessage<span class="token operator">:</span>model<span class="token punctuation">.</span>messageObjc<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L1182" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 1182)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>ackMessagebyModel<span class="token operator">:</span><span class="token punctuation">(</span>LHMessageModel <span class="token operator">*</span><span class="token punctuation">)</span>model <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>model<span class="token punctuation">.</span>isSender <span class="token operator">==</span> YES <span class="token operator">&amp;&amp;</span> model<span class="token punctuation">.</span>messageObjc<span class="token punctuation">.</span>isReadAcked <span class="token operator">==</span> NO<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> ackMessage<span class="token operator">:</span>model<span class="token punctuation">.</span>messageObjc<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L1189" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 1189)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>ackMessagebyMessageObject<span class="token operator">:</span><span class="token punctuation">(</span>BMXMessageObject <span class="token operator">*</span><span class="token punctuation">)</span>messageObject <span class="token punctuation">{</span>
    NSString <span class="token operator">*</span>fromIdStr <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token operator">:</span>@<span class="token string">&quot;%lld&quot;</span><span class="token punctuation">,</span> messageObject<span class="token punctuation">.</span>fromId<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span>fromIdStr isEqualToString<span class="token operator">:</span>self<span class="token punctuation">.</span>account<span class="token punctuation">.</span>usedId<span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> messageObject<span class="token punctuation">.</span>isRead <span class="token operator">==</span> NO<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> ackMessage<span class="token operator">:</span>messageObject<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L1196" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 1196)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>ackMessage<span class="token operator">:</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>LHMessageModel <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span><span class="token punctuation">)</span>modelArray <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>LHMessageModel <span class="token operator">*</span>model in modelArray<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>model<span class="token punctuation">.</span>class isKindOfClass<span class="token operator">:</span><span class="token punctuation">[</span>LHMessageModel class<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">continue</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>model<span class="token punctuation">.</span>isSender <span class="token operator">&amp;&amp;</span> model<span class="token punctuation">.</span>messageObjc<span class="token punctuation">.</span>isReadAcked <span class="token operator">==</span> NO<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> ackMessage<span class="token operator">:</span>model<span class="token punctuation">.</span>messageObjc<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L1176" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 1176)</a></div></p>
<h3 id="ackmessagedelivered">ackMessageDelivered:</h3>
<p>Send delivery acknowledgement</p>
<p><code>- (void)ackMessageDelivered:(BMXMessageObject *)*message*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Send delivery acknowledgement</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/addChatListener:" title="addChatListener:"></a>
<strong>Example</strong>:</p>
<p></p>
<h3 id="addchatlistener">addChatListener:</h3>
<p>Add chat listener</p>
<p><code>- (void)addChatListener:(id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BMXChatServiceProtocol</span><span class="token punctuation">&gt;</span></span>)*listener*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Add chat listener</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/addDelegate:" title="addDelegate:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>super viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>view<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token punctuation">[</span>UIColor whiteColor<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self setUpNavItem<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> addChatListener<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Main/Controller/MainViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Main/Controller/MainViewController.m#L63" target="_blank">Github Source: MaxIM/Class/Module/Main/Controller/MainViewController.m (line 63)</a></div></p>
<h3 id="adddelegate">addDelegate:</h3>
<p><code>- (void)addDelegate:(id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BMXChatServiceProtocol</span><span class="token punctuation">&gt;</span></span>)*aDelegate*</code></p>
<p><a name="//api/name/addDelegate:delegateQueue:" title="addDelegate:delegateQueue:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>registerAPNs <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> pushService<span class="token punctuation">]</span> start<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> pushService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/AppDelegate+PushService.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/AppDelegate+PushService.m#L15" target="_blank">Github Source: MaxIM/Class/AppDelegate+PushService.m (line 15)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>super viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span>self configCollectionView<span class="token punctuation">]</span><span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>view<span class="token punctuation">.</span>clipsToBounds <span class="token operator">=</span> YES<span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Tools/Controller/LHPhotoPreviewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Tools/Controller/LHPhotoPreviewController.m#L35" target="_blank">Github Source: MaxIM/Class/Tools/Controller/LHPhotoPreviewController.m (line 35)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addIMListener <span class="token punctuation">{</span>
    BMXClient <span class="token operator">*</span>client <span class="token operator">=</span> <span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>client rosterService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/MAXTabBarController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/MAXTabBarController.m#L105" target="_blank">Github Source: MaxIM/Class/MAXTabBarController.m (line 105)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addIMListener <span class="token punctuation">{</span>
    BMXClient <span class="token operator">*</span>client <span class="token operator">=</span> <span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>client rosterService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>client chatService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/MAXTabBarController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/MAXTabBarController.m#L106" target="_blank">Github Source: MaxIM/Class/MAXTabBarController.m (line 106)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addIMListener <span class="token punctuation">{</span>
    BMXClient <span class="token operator">*</span>client <span class="token operator">=</span> <span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>client rosterService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>client chatService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>client userService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/MAXTabBarController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/MAXTabBarController.m#L107" target="_blank">Github Source: MaxIM/Class/MAXTabBarController.m (line 107)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>addIMListener <span class="token punctuation">{</span>
    BMXClient <span class="token operator">*</span>client <span class="token operator">=</span> <span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>client rosterService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>client chatService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>client userService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>client groupService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/MAXTabBarController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/MAXTabBarController.m#L108" target="_blank">Github Source: MaxIM/Class/MAXTabBarController.m (line 108)</a></div></p>
<h3 id="adddelegatedelegatequeue">addDelegate:delegateQueue:</h3>
<p><code>- (void)addDelegate:(id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BMXChatServiceProtocol</span><span class="token punctuation">&gt;</span></span>)*aDelegate* delegateQueue:(dispatch_queue_t)*aQueue*</code></p>
<p><a name="//api/name/deleteConversationByConversationId:synchronize:" title="deleteConversationByConversationId:synchronize:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>super viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>view<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token punctuation">[</span>UIColor whiteColor<span class="token punctuation">]</span><span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>automaticallyAdjustsScrollViewInsets <span class="token operator">=</span> NO<span class="token punctuation">;</span>
    
    self<span class="token punctuation">.</span>account <span class="token operator">=</span> <span class="token punctuation">[</span>IMAcountInfoStorage loadObject<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self  getMyProfile<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span>self setUpNavItem<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self setupSubview<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span>self loadMessages<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span>self scrollToBottomAnimated<span class="token operator">:</span>NO refresh<span class="token operator">:</span>NO<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> addDelegate<span class="token operator">:</span>self delegateQueue<span class="token operator">:</span><span class="token function">dispatch_get_main_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L197" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 197)</a></div></p>
<h3 id="deleteconversationbyconversationidsynchronize">deleteConversationByConversationId:synchronize:</h3>
<p> Delete a conversation</p>
<p><code>- (void)deleteConversationByConversationId:(NSInteger)*conversationId* synchronize:(BOOL)*synchronize*</code></p>
<h4 id="discussion">Discussion</h4>
<p> Delete a conversation</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/downloadAttachment:" title="downloadAttachment:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>removeconversation<span class="token operator">:</span><span class="token punctuation">(</span>BMXConversation <span class="token operator">*</span><span class="token punctuation">)</span>conversation <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span>chatService<span class="token punctuation">]</span> deleteConversationByConversationId<span class="token operator">:</span>conversation<span class="token punctuation">.</span>conversationId synchronize<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Main/Controller/MainViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Main/Controller/MainViewController.m#L550" target="_blank">Github Source: MaxIM/Class/Module/Main/Controller/MainViewController.m (line 550)</a></div></p>
<h3 id="downloadattachment">downloadAttachment:</h3>
<p>Downloaded attachments, and download state changes and progress are notified via listener</p>
<p><code>- (void)downloadAttachment:(BMXMessageObject *)*message*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Downloaded attachments, and download state changes and progress are notified via listener</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/downloadThumbnail:strategy:" title="downloadThumbnail:strategy:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c">        
BMXVoiceAttachment <span class="token operator">*</span>voiceAtt <span class="token operator">=</span> <span class="token punctuation">(</span>BMXVoiceAttachment <span class="token operator">*</span><span class="token punctuation">)</span>message<span class="token punctuation">.</span>attachment<span class="token punctuation">;</span>
        
dbMessageModel<span class="token punctuation">.</span>vociePath <span class="token operator">=</span> voiceAtt<span class="token punctuation">.</span>path<span class="token punctuation">;</span>
dbMessageModel<span class="token punctuation">.</span>content <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token operator">:</span>@<span class="token string">&quot;  %d s&quot;</span><span class="token punctuation">,</span>voiceAtt<span class="token punctuation">.</span>duration<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>self<span class="token punctuation">.</span>dataSource insertObject<span class="token operator">:</span>dbMessageModel atIndex<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>self<span class="token punctuation">.</span>messages insertObject<span class="token operator">:</span>dbMessageModel atIndex<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">[</span>NSFileManager defaultManager<span class="token punctuation">]</span> fileExistsAtPath<span class="token operator">:</span>dbMessageModel<span class="token punctuation">.</span>vociePath<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadAttachment<span class="token operator">:</span>message<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L462" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 462)</a></div><pre class="language-"><code class="lang-c">    dbMessageModel<span class="token punctuation">.</span>type <span class="token operator">=</span> MessageBodyType_Location<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>dataSource insertObject<span class="token operator">:</span>dbMessageModel atIndex<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>messages insertObject<span class="token operator">:</span>dbMessageModel atIndex<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>contentType <span class="token operator">==</span> BMXContentTypeFile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    BMXFileAttachment <span class="token operator">*</span>fileAtt <span class="token operator">=</span> <span class="token punctuation">(</span>BMXFileAttachment <span class="token operator">*</span><span class="token punctuation">)</span>message<span class="token punctuation">.</span>attachment<span class="token punctuation">;</span>
    dbMessageModel<span class="token punctuation">.</span>content <span class="token operator">=</span> fileAtt<span class="token punctuation">.</span>displayName <span class="token operator">?</span> fileAtt<span class="token punctuation">.</span>displayName <span class="token operator">:</span> @<span class="token string">&quot;file&quot;</span><span class="token punctuation">;</span>
    dbMessageModel<span class="token punctuation">.</span>type <span class="token operator">=</span> MessageBodyType_File<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">[</span>NSFileManager defaultManager<span class="token punctuation">]</span> fileExistsAtPath<span class="token operator">:</span>fileAtt<span class="token punctuation">.</span>path<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadAttachment<span class="token operator">:</span>message<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L479" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 479)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>chatVideoCellBubblePressed<span class="token operator">:</span><span class="token punctuation">(</span>LHMessageModel <span class="token operator">*</span><span class="token punctuation">)</span>model <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>model<span class="token punctuation">.</span>videoPath <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token punctuation">[</span>model<span class="token punctuation">.</span>videoPath isKindOfClass<span class="token operator">:</span><span class="token punctuation">[</span>NSNull class<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>NSFileManager defaultManager<span class="token punctuation">]</span> fileExistsAtPath<span class="token operator">:</span>model<span class="token punctuation">.</span>videoPath<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>self videoPlay<span class="token operator">:</span>model<span class="token punctuation">.</span>videoPath<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadAttachment<span class="token operator">:</span>model<span class="token punctuation">.</span>messageObjc<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L831" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 831)</a></div><pre class="language-"><code class="lang-c">            
    dbMessageModel<span class="token punctuation">.</span>messageObjc <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>LHIMDBManager shareManager<span class="token punctuation">]</span> insertModel<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    NSIndexPath <span class="token operator">*</span>index <span class="token operator">=</span> <span class="token punctuation">[</span>self insertNewMessageOrTime<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>messages addObject<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>tableView scrollToRowAtIndexPath<span class="token operator">:</span>index atScrollPosition<span class="token operator">:</span>UITableViewScrollPositionBottom animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
            
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>contentType <span class="token operator">==</span> BMXContentTypeImage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadThumbnail<span class="token operator">:</span>message strategy<span class="token operator">:</span>ThirdpartyServerCreate<span class="token punctuation">]</span><span class="token punctuation">;</span>
            
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadAttachment<span class="token operator">:</span>message<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L1456" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 1456)</a></div><pre class="language-"><code class="lang-c">    <span class="token punctuation">[</span><span class="token punctuation">[</span>LHIMDBManager shareManager<span class="token punctuation">]</span> insertModel<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    NSIndexPath <span class="token operator">*</span>index <span class="token operator">=</span> <span class="token punctuation">[</span>self insertNewMessageOrTime<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>messages addObject<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>tableView scrollToRowAtIndexPath<span class="token operator">:</span>index atScrollPosition<span class="token operator">:</span>UITableViewScrollPositionBottom animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
            
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>contentType <span class="token operator">==</span> BMXContentTypeImage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadThumbnail<span class="token operator">:</span>message strategy<span class="token operator">:</span>ThirdpartyServerCreate<span class="token punctuation">]</span><span class="token punctuation">;</span>
            
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadAttachment<span class="token operator">:</span>message<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>contentType <span class="token operator">==</span> BMXContentTypeVoice<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadAttachment<span class="token operator">:</span>message<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L1458" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 1458)</a></div><pre class="language-"><code class="lang-c">    dbMessageModel<span class="token punctuation">.</span>status <span class="token operator">=</span> MessageDeliveryState_Delivered<span class="token punctuation">;</span>
    dbMessageModel<span class="token punctuation">.</span>isSender <span class="token operator">=</span> NO<span class="token punctuation">;</span>
    dbMessageModel<span class="token punctuation">.</span>type <span class="token operator">=</span> MessageBodyType_Location<span class="token punctuation">;</span>
    dbMessageModel<span class="token punctuation">.</span>messageObjc <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>LHIMDBManager shareManager<span class="token punctuation">]</span> insertModel<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    NSIndexPath <span class="token operator">*</span>index <span class="token operator">=</span> <span class="token punctuation">[</span>self insertNewMessageOrTime<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>messages addObject<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>tableView scrollToRowAtIndexPath<span class="token operator">:</span>index atScrollPosition<span class="token operator">:</span>UITableViewScrollPositionBottom animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
            
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>contentType <span class="token operator">==</span> BMXContentTypeFile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadAttachment<span class="token operator">:</span>message<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L1473" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 1473)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>setModels<span class="token operator">:</span><span class="token punctuation">(</span>NSArray <span class="token operator">*</span><span class="token punctuation">)</span>models <span class="token punctuation">{</span>
    LHMessageModel <span class="token operator">*</span>messagemodel <span class="token operator">=</span> models<span class="token punctuation">.</span>firstObject<span class="token punctuation">;</span>
    BMXImageAttachment <span class="token operator">*</span>attachment <span class="token operator">=</span> <span class="token punctuation">(</span>BMXImageAttachment <span class="token operator">*</span><span class="token punctuation">)</span>messagemodel<span class="token punctuation">.</span>messageObjc<span class="token punctuation">.</span>attachment<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>attachment<span class="token punctuation">.</span>path <span class="token operator">==</span> nil <span class="token operator">||</span>  <span class="token punctuation">[</span>@<span class="token string">&quot;&quot;</span> isEqualToString<span class="token operator">:</span>attachment<span class="token punctuation">.</span>path<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">[</span>NSFileManager defaultManager<span class="token punctuation">]</span> fileExistsAtPath<span class="token operator">:</span>attachment<span class="token punctuation">.</span>path<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadAttachment<span class="token operator">:</span>messagemodel<span class="token punctuation">.</span>messageObjc<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Tools/Controller/LHPhotoPreviewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Tools/Controller/LHPhotoPreviewController.m#L57" target="_blank">Github Source: MaxIM/Class/Tools/Controller/LHPhotoPreviewController.m (line 57)</a></div></p>
<h3 id="downloadthumbnailstrategy">downloadThumbnail:strategy:</h3>
<p>Downloaded thumbnail, state changes and progress are notified via listener
Thumbnail generation policy, 1 - generated by third-party server, 2 - Generated by local server, default 1.</p>
<p><code>- (void)downloadThumbnail:(BMXMessageObject *)*message* strategy:(ThumbnailStrategy)*strategy*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Downloaded thumbnail, state changes and progress are notified via listener
Thumbnail generation policy, 1 - generated by third-party server, 2 - Generated by local server, default 1.</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/forwardMessage:" title="forwardMessage:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>contentType <span class="token operator">==</span> BMXContentTypeImage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    dbMessageModel<span class="token punctuation">.</span>type <span class="token operator">=</span> MessageBodyType_Image<span class="token punctuation">;</span>
    BMXImageAttachment <span class="token operator">*</span>imageAtt <span class="token operator">=</span> <span class="token punctuation">(</span>BMXImageAttachment <span class="token operator">*</span><span class="token punctuation">)</span>message<span class="token punctuation">.</span>attachment<span class="token punctuation">;</span>
    dbMessageModel<span class="token punctuation">.</span>width <span class="token operator">=</span> imageAtt<span class="token punctuation">.</span>pictureSize<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
    dbMessageModel<span class="token punctuation">.</span>height <span class="token operator">=</span> imageAtt<span class="token punctuation">.</span>pictureSize<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
    dbMessageModel<span class="token punctuation">.</span>imageRemoteURL <span class="token operator">=</span> imageAtt<span class="token punctuation">.</span>thumbnailPath<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>dataSource insertObject<span class="token operator">:</span>dbMessageModel atIndex<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>messages insertObject<span class="token operator">:</span>dbMessageModel atIndex<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">[</span>NSFileManager defaultManager<span class="token punctuation">]</span> fileExistsAtPath<span class="token operator">:</span>dbMessageModel<span class="token punctuation">.</span>imageRemoteURL<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadThumbnail<span class="token operator">:</span>message strategy<span class="token operator">:</span>ThirdpartyServerCreate<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L445" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 445)</a></div><pre class="language-"><code class="lang-c">        dbMessageModel<span class="token punctuation">.</span>content <span class="token operator">=</span> videoAtt<span class="token punctuation">.</span>displayName <span class="token operator">?</span> videoAtt<span class="token punctuation">.</span>displayName <span class="token operator">:</span> @<span class="token string">&quot;video&quot;</span><span class="token punctuation">;</span>
        dbMessageModel<span class="token punctuation">.</span>type <span class="token operator">=</span> MessageBodyType_Video<span class="token punctuation">;</span>
        
<span class="token comment">//        MAXLog(@&quot;%f, %f&quot;, videoAtt.size.width, videoAtt.size.height)</span>
        dbMessageModel<span class="token punctuation">.</span>width <span class="token operator">=</span> videoAtt<span class="token punctuation">.</span>videoSize<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
        dbMessageModel<span class="token punctuation">.</span>height <span class="token operator">=</span> videoAtt<span class="token punctuation">.</span>videoSize<span class="token punctuation">.</span>height<span class="token punctuation">;</span>
        dbMessageModel<span class="token punctuation">.</span>imageRemoteURL <span class="token operator">=</span> videoAtt<span class="token punctuation">.</span>thumbnailPath<span class="token punctuation">;</span>
        dbMessageModel<span class="token punctuation">.</span>videoPath <span class="token operator">=</span> videoAtt<span class="token punctuation">.</span>path<span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">[</span><span class="token punctuation">[</span>NSFileManager defaultManager<span class="token punctuation">]</span> fileExistsAtPath<span class="token operator">:</span>dbMessageModel<span class="token punctuation">.</span>imageRemoteURL<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadThumbnail<span class="token operator">:</span>message strategy<span class="token operator">:</span>ThirdpartyServerCreate<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L495" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 495)</a></div><pre class="language-"><code class="lang-c">    dbMessageModel<span class="token punctuation">.</span>status <span class="token operator">=</span> MessageDeliveryState_Delivered<span class="token punctuation">;</span>
    dbMessageModel<span class="token punctuation">.</span>type <span class="token operator">=</span> MessageBodyType_Text<span class="token punctuation">;</span>
            
    dbMessageModel<span class="token punctuation">.</span>messageObjc <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>LHIMDBManager shareManager<span class="token punctuation">]</span> insertModel<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    NSIndexPath <span class="token operator">*</span>index <span class="token operator">=</span> <span class="token punctuation">[</span>self insertNewMessageOrTime<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>messages addObject<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>tableView scrollToRowAtIndexPath<span class="token operator">:</span>index atScrollPosition<span class="token operator">:</span>UITableViewScrollPositionBottom animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
            
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>contentType <span class="token operator">==</span> BMXContentTypeImage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadThumbnail<span class="token operator">:</span>message strategy<span class="token operator">:</span>ThirdpartyServerCreate<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L1454" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 1454)</a></div><pre class="language-"><code class="lang-c">    dbMessageModel<span class="token punctuation">.</span>type <span class="token operator">=</span> MessageBodyType_Location<span class="token punctuation">;</span>
    dbMessageModel<span class="token punctuation">.</span>messageObjc <span class="token operator">=</span> message<span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>LHIMDBManager shareManager<span class="token punctuation">]</span> insertModel<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    NSIndexPath <span class="token operator">*</span>index <span class="token operator">=</span> <span class="token punctuation">[</span>self insertNewMessageOrTime<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>messages addObject<span class="token operator">:</span>dbMessageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>tableView scrollToRowAtIndexPath<span class="token operator">:</span>index atScrollPosition<span class="token operator">:</span>UITableViewScrollPositionBottom animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
            
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>contentType <span class="token operator">==</span> BMXContentTypeFile<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadAttachment<span class="token operator">:</span>message<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>contentType <span class="token operator">==</span> BMXContentTypeVideo<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> downloadThumbnail<span class="token operator">:</span>message strategy<span class="token operator">:</span>ThirdpartyServerCreate<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L1475" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 1475)</a></div></p>
<h3 id="forwardmessage">forwardMessage:</h3>
<p>Simple forward message, user should first create the forward message via BMXMessagse::createForwardMessage()
*</p>
<p><code>- (void)forwardMessage:(BMXMessageObject *)*message*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Simple forward message, user should first create the forward message via BMXMessagse::createForwardMessage()
*</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/getAllConversationsUnreadCountWithCompletion:" title="getAllConversationsUnreadCountWithCompletion:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>transterSlectedGroup<span class="token operator">:</span><span class="token punctuation">(</span>BMXGroup <span class="token operator">*</span><span class="token punctuation">)</span>group <span class="token punctuation">{</span>
    BMXMessageObject <span class="token operator">*</span>m <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>BMXMessageObject alloc<span class="token punctuation">]</span> initWithForwardMessage<span class="token operator">:</span>self<span class="token punctuation">.</span>currentMessage<span class="token punctuation">.</span>messageObjc fromId<span class="token operator">:</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>account<span class="token punctuation">.</span>usedId longLongValue<span class="token punctuation">]</span> toId<span class="token operator">:</span>group<span class="token punctuation">.</span>groupId type<span class="token operator">:</span>BMXMessageTypeGroup conversationId<span class="token operator">:</span>group<span class="token punctuation">.</span>groupId<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//    m.enableGroupAck = YES;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> forwardMessage<span class="token operator">:</span>m<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L816" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 816)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>groupOwnerTransterVCdidSelect<span class="token operator">:</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span>toModel <span class="token punctuation">{</span>
    BMXRoster <span class="token operator">*</span>roster <span class="token operator">=</span> toModel<span class="token punctuation">;</span>
    BMXMessageObject <span class="token operator">*</span>m <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>BMXMessageObject alloc<span class="token punctuation">]</span> initWithForwardMessage<span class="token operator">:</span>self<span class="token punctuation">.</span>currentMessage<span class="token punctuation">.</span>messageObjc fromId<span class="token operator">:</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>account<span class="token punctuation">.</span>usedId longLongValue<span class="token punctuation">]</span> toId<span class="token operator">:</span>roster<span class="token punctuation">.</span>rosterId type<span class="token operator">:</span>BMXMessageTypeSingle conversationId<span class="token operator">:</span>roster<span class="token punctuation">.</span>rosterId<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token comment">//    m.enableGroupAck = YES;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> forwardMessage<span class="token operator">:</span>m<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L823" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 823)</a></div></p>
<h3 id="getallconversationsunreadcountwithcompletion">getAllConversationsUnreadCountWithCompletion:</h3>
<p> Get number of unread messages for all conversations (unreads for individuals and groups marked as blocked is not counted)</p>
<p><code>- (void)getAllConversationsUnreadCountWithCompletion:(void ( ^ ) ( int count ))*aCompletionBlock*</code></p>
<h4 id="parameters">Parameters</h4>
<p><em>aCompletionBlock</em><br>   count  </p>
<h4 id="discussion">Discussion</h4>
<p> Get number of unread messages for all conversations (unreads for individuals and groups marked as blocked is not counted)</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/getAllConversationsWithCompletion:" title="getAllConversationsWithCompletion:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>viewDidLoad <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>super viewDidLoad<span class="token punctuation">]</span><span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>view<span class="token punctuation">.</span>backgroundColor <span class="token operator">=</span> <span class="token punctuation">[</span>UIColor whiteColor<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self setUpNavItem<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> addChatListener<span class="token operator">:</span>self<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span>NetWorkingManager netWorkingManagerWithNetworkStatusListening<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self p_addObserver<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> getAllConversationsUnreadCountWithCompletion<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token keyword">int</span> count<span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Main/Controller/MainViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Main/Controller/MainViewController.m#L68" target="_blank">Github Source: MaxIM/Class/Module/Main/Controller/MainViewController.m (line 68)</a></div></p>
<h3 id="getallconversationswithcompletion">getAllConversationsWithCompletion:</h3>
<p>Get all conversations</p>
<p><code>- (void)getAllConversationsWithCompletion:(void ( ^ ) ( NSArray *conversations ))*aCompletionBlock*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Get all conversations</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/getAttachmentDir" title="getAttachmentDir"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getAllConversations<span class="token punctuation">{</span>
    <span class="token function">dispatch_async</span><span class="token punctuation">(</span><span class="token function">dispatch_get_main_queue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token operator">^</span><span class="token punctuation">{</span>
        <span class="token punctuation">[</span>HQCustomToast showWating<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> getAllConversationsWithCompletion<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray <span class="token operator">*</span>conversations<span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Main/Controller/MainViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Main/Controller/MainViewController.m#L146" target="_blank">Github Source: MaxIM/Class/Module/Main/Controller/MainViewController.m (line 146)</a></div></p>
<h3 id="getattachmentdir">getAttachmentDir</h3>
<p>Get attachment saving path</p>
<p><code>- (NSString *)getAttachmentDir</code></p>
<h4 id="discussion">Discussion</h4>
<p>Get attachment saving path</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/getAttachmentDirForConversationWith:" title="getAttachmentDirForConversationWith:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>recorderMainPath
<span class="token punctuation">{</span>
    
    
<span class="token comment">//    NSString* dataDir = [NSSearchPathForDirectoriesInDomains(NSDocumentDirectory, NSUserDomainMask, YES).firstObject stringByAppendingPathComponent:@&quot;CWVoice&quot;];</span>

    NSString <span class="token operator">*</span>path <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> getAttachmentDir<span class="token punctuation">]</span> stringByAppendingPathComponent<span class="token operator">:</span>kChildPath<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Tools/BMXRecoderTools.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Tools/BMXRecoderTools.m#L179" target="_blank">Github Source: MaxIM/Class/Tools/BMXRecoderTools.m (line 179)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>moreViewFileAction<span class="token operator">:</span><span class="token punctuation">(</span>LHChatBarMoreView <span class="token operator">*</span><span class="token punctuation">)</span>moreView <span class="token punctuation">{</span>
     <span class="token comment">// &#x8FDB;&#x5165;&#x9875;&#x9762;&#x7BA1;&#x7406;&#xFF0C;&#x9009;&#x62E9;&#x6587;&#x4EF6;</span>
    
    <span class="token keyword">if</span> <span class="token punctuation">(</span>SystemVersion <span class="token operator">&gt;=</span>  <span class="token number">11.0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>self displayChooseFileViewController<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        ICDocumentViewController <span class="token operator">*</span>docVC <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>ICDocumentViewController alloc<span class="token punctuation">]</span> init<span class="token punctuation">]</span><span class="token punctuation">;</span>
        docVC<span class="token punctuation">.</span>delegate <span class="token operator">=</span> self<span class="token punctuation">;</span>
        NSString <span class="token operator">*</span>filePath <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> getAttachmentDir<span class="token punctuation">]</span> stringByAppendingPathComponent<span class="token operator">:</span>@<span class="token string">&quot;file&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/View/LHChatBarView.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/View/LHChatBarView.m#L379" target="_blank">Github Source: MaxIM/Class/Module/Chat/View/LHChatBarView.m (line 379)</a></div></p>
<h3 id="getattachmentdirforconversationwith">getAttachmentDirForConversationWith:</h3>
<p>Get attachment saving path for a conversation</p>
<p><code>- (NSString *)getAttachmentDirForConversationWith:(NSString *)*conversationId*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Get attachment saving path for a conversation</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/getGroupAckMessageUnreadUserIdListWithMessage:completion:" title="getGroupAckMessageUnreadUserIdListWithMessage:completion:"></a>
<strong>Example</strong>:</p>
<p></p>
<h3 id="getgroupackmessageunreaduseridlistwithmessagecompletion">getGroupAckMessageUnreadUserIdListWithMessage:completion:</h3>
<p>Get a list of unread user ids for the sent group message</p>
<p><code>- (void)getGroupAckMessageUnreadUserIdListWithMessage:(BMXMessageObject *)*message* completion:(void ( ^ ) ( NSArray *groupMemberIdList , BMXError *error ))*aCompletionBlock*</code></p>
<h4 id="parameters">Parameters</h4>
<p><em>message</em><br>   Message requiring to get list of unread user ids  </p>
<p><em>aCompletionBlock</em><br>   List of unread user ids for this message, initially passed in as an empty list  </p>
<h4 id="discussion">Discussion</h4>
<p>Get a list of unread user ids for the sent group message</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/getGroupAckMessageUserIdListWithMessage:completion:" title="getGroupAckMessageUserIdListWithMessage:completion:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getUnreadRoster <span class="token punctuation">{</span>
    <span class="token function">MAXLog</span><span class="token punctuation">(</span>@<span class="token string">&quot;&#x62C9;&#x53D6;&#x672A;&#x8BFB;&#x7FA4;&#x6210;&#x5458;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> getGroupAckMessageUnreadUserIdListWithMessage<span class="token operator">:</span>self<span class="token punctuation">.</span>message completion<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray <span class="token operator">*</span>groupMemberIdList<span class="token punctuation">,</span> BMXError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/GroupAlreadyReadListViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/GroupAlreadyReadListViewController.m#L83" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/GroupAlreadyReadListViewController.m (line 83)</a></div></p>
<h3 id="getgroupackmessageuseridlistwithmessagecompletion">getGroupAckMessageUserIdListWithMessage:completion:</h3>
<p>Get the list of user-ids that have read group messages</p>
<p><code>- (void)getGroupAckMessageUserIdListWithMessage:(BMXMessageObject *)*message* completion:(void ( ^ ) ( NSArray *groupMemberIdList , BMXError *error ))*aCompletionBlock*</code></p>
<h4 id="parameters">Parameters</h4>
<p><em>message</em><br>   Message requiring to get list of read user ids  </p>
<p><em>aCompletionBlock</em><br>   List of read user ids for this message, initially passed in as an empty list  </p>
<h4 id="discussion">Discussion</h4>
<p>Get the list of user-ids that have read group messages</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/getMessage:completion:" title="getMessage:completion:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getAlreadyRoster <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> getGroupAckMessageUserIdListWithMessage<span class="token operator">:</span>self<span class="token punctuation">.</span>message completion<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray <span class="token operator">*</span>groupMemberIdList<span class="token punctuation">,</span> BMXError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/GroupAlreadyReadListViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/GroupAlreadyReadListViewController.m#L55" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/GroupAlreadyReadListViewController.m (line 55)</a></div></p>
<h3 id="getmessagecompletion">getMessage:completion:</h3>
<p>Read a message</p>
<p><code>- (void)getMessage:(NSInteger)*messageId* completion:(void ( ^ ) ( BMXMessageObject *message , BMXError *error ))*aCompletionBlock*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Read a message</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/insetMessages:completion:" title="insetMessages:completion:"></a>
<strong>Example</strong>:</p>
<p></p>
<h3 id="insetmessagescompletion">insetMessages:completion:</h3>
<p>Insert a message</p>
<p><code>- (void)insetMessages:(NSArray<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BMXMessageObject*</span><span class="token punctuation">&gt;</span></span> *)*list* completion:(void ( ^ ) ( BMXError *error ))*aCompletionBlock*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Insert a message</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/openConversation:type:createIfNotExist:" title="openConversation:type:createIfNotExist:"></a>
<strong>Example</strong>:</p>
<p></p>
<h3 id="openconversationtypecreateifnotexist">openConversation:type:createIfNotExist:</h3>
<p>Launch a conversation</p>
<p><code>- (BMXConversation *)openConversation:(NSInteger)*conversationId* type:(BMXConversationType)*type* createIfNotExist:(bool)*create*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Launch a conversation</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/readAllMessage:" title="readAllMessage:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>loadMessages <span class="token punctuation">{</span>
    BMXConversation <span class="token operator">*</span>conversation<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>messageType <span class="token operator">==</span> BMXConversationGroup<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        self<span class="token punctuation">.</span>conversationId <span class="token operator">=</span>  self<span class="token punctuation">.</span>conversationId <span class="token operator">?</span>self<span class="token punctuation">.</span>conversationId <span class="token operator">:</span> <span class="token punctuation">(</span>NSInteger<span class="token punctuation">)</span>self<span class="token punctuation">.</span>currentGroup<span class="token punctuation">.</span>groupId<span class="token punctuation">;</span>
        BMXConversation <span class="token operator">*</span>groupConversation <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> openConversation<span class="token operator">:</span>self<span class="token punctuation">.</span>conversationId type<span class="token operator">:</span>BMXConversationGroup createIfNotExist<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L332" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 332)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>loadMessages <span class="token punctuation">{</span>
    BMXConversation <span class="token operator">*</span>conversation<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>messageType <span class="token operator">==</span> BMXConversationGroup<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        self<span class="token punctuation">.</span>conversationId <span class="token operator">=</span>  self<span class="token punctuation">.</span>conversationId <span class="token operator">?</span>self<span class="token punctuation">.</span>conversationId <span class="token operator">:</span> <span class="token punctuation">(</span>NSInteger<span class="token punctuation">)</span>self<span class="token punctuation">.</span>currentGroup<span class="token punctuation">.</span>groupId<span class="token punctuation">;</span>
        BMXConversation <span class="token operator">*</span>groupConversation <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> openConversation<span class="token operator">:</span>self<span class="token punctuation">.</span>conversationId type<span class="token operator">:</span>BMXConversationGroup createIfNotExist<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
        
        conversation <span class="token operator">=</span> groupConversation<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        self<span class="token punctuation">.</span>conversationId <span class="token operator">=</span> self<span class="token punctuation">.</span>conversationId <span class="token operator">?</span> self<span class="token punctuation">.</span>conversationId<span class="token operator">:</span> <span class="token punctuation">(</span>NSInteger<span class="token punctuation">)</span>self<span class="token punctuation">.</span>currentRoster<span class="token punctuation">.</span>rosterId<span class="token punctuation">;</span>
        BMXConversation <span class="token operator">*</span>singleConversation <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> openConversation<span class="token operator">:</span>self<span class="token punctuation">.</span>conversationId type<span class="token operator">:</span>BMXConversationSingle createIfNotExist<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L337" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 337)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>receiveNewMessage<span class="token operator">:</span><span class="token punctuation">(</span>BMXMessageObject <span class="token operator">*</span><span class="token punctuation">)</span>message <span class="token punctuation">{</span>
    <span class="token keyword">long</span> <span class="token keyword">long</span> conversationId <span class="token operator">=</span> message<span class="token punctuation">.</span>conversationId<span class="token punctuation">;</span>
    BOOL hasConversation <span class="token operator">=</span> NO<span class="token punctuation">;</span>
    NSArray <span class="token operator">*</span>temp <span class="token operator">=</span> <span class="token punctuation">[</span>self<span class="token punctuation">.</span>conversatonList copy<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span>BMXConversation <span class="token operator">*</span>conversation in temp<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>conversationId <span class="token operator">==</span> conversation<span class="token punctuation">.</span>conversationId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            hasConversation  <span class="token operator">=</span> YES<span class="token punctuation">;</span>
            <span class="token punctuation">[</span>self getProfiletWithConversations<span class="token operator">:</span>temp<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasConversation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        BMXConversationType type<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>messageType <span class="token operator">==</span> BMXMessageTypeSingle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            type <span class="token operator">=</span> BMXConversationSingle<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            type <span class="token operator">=</span> BMXConversationGroup<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        BMXConversation <span class="token operator">*</span>conversation <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> openConversation<span class="token operator">:</span>conversationId type<span class="token operator">:</span>type createIfNotExist<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Main/Controller/MainViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Main/Controller/MainViewController.m#L280" target="_blank">Github Source: MaxIM/Class/Module/Main/Controller/MainViewController.m (line 280)</a></div><pre class="language-"><code class="lang-c">    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>hasConversation<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        
    BMXConversationType type<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>messageType <span class="token operator">==</span> BMXMessageTypeSingle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        type <span class="token operator">=</span> BMXConversationSingle<span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        type <span class="token operator">=</span> BMXConversationGroup<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    BMXConversation <span class="token operator">*</span>conversation <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> openConversation<span class="token operator">:</span>conversationId type<span class="token operator">:</span>type createIfNotExist<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Main/Controller/MainViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Main/Controller/MainViewController.m#L310" target="_blank">Github Source: MaxIM/Class/Module/Main/Controller/MainViewController.m (line 310)</a></div></p>
<h3 id="readallmessage">readAllMessage:</h3>
<p>Mark this message and all previous messages as read, and synchronize to all current users&apos; devices</p>
<p><code>- (void)readAllMessage:(BMXMessageObject *)*message*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Mark this message and all previous messages as read, and synchronize to all current users&apos; devices</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/readCancel:" title="readCancel:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c">    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>navigationController pushViewController<span class="token operator">:</span>chatVC animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token function">NSStringFromClass</span><span class="token punctuation">(</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>profileArray<span class="token punctuation">[</span>indexPath<span class="token punctuation">.</span>row<span class="token punctuation">]</span> class<span class="token punctuation">]</span><span class="token punctuation">)</span> isEqualToString<span class="token operator">:</span>@<span class="token string">&quot;BMXGroup&quot;</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

    BMXGroup <span class="token operator">*</span>group <span class="token operator">=</span> self<span class="token punctuation">.</span>profileArray<span class="token punctuation">[</span>indexPath<span class="token punctuation">.</span>row<span class="token punctuation">]</span><span class="token punctuation">;</span>
    chatVC <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>LHChatVC alloc<span class="token punctuation">]</span> initWithGroupChat<span class="token operator">:</span><span class="token punctuation">(</span>BMXGroup <span class="token operator">*</span><span class="token punctuation">)</span>group messageType<span class="token operator">:</span>BMXMessageTypeGroup<span class="token punctuation">]</span><span class="token punctuation">;</span>
        
    BMXConversation <span class="token operator">*</span>conversation <span class="token operator">=</span> self<span class="token punctuation">.</span>conversatonList<span class="token punctuation">[</span>indexPath<span class="token punctuation">.</span>row<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>conversation<span class="token punctuation">.</span>unreadNumber <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            
        <span class="token keyword">if</span> <span class="token punctuation">(</span>conversation<span class="token punctuation">.</span>lastMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> readAllMessage<span class="token operator">:</span>conversation<span class="token punctuation">.</span>lastMessage<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Main/Controller/MainViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Main/Controller/MainViewController.m#L596" target="_blank">Github Source: MaxIM/Class/Module/Main/Controller/MainViewController.m (line 596)</a></div><pre class="language-"><code class="lang-c">    <span class="token punctuation">}</span>
        
    chatVC<span class="token punctuation">.</span>delegate <span class="token operator">=</span> self<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>chatVC setHidesBottomBarWhenPushed<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self<span class="token punctuation">.</span>navigationController pushViewController<span class="token operator">:</span>chatVC animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>profileArray<span class="token punctuation">[</span>indexPath<span class="token punctuation">.</span>row<span class="token punctuation">]</span> isKindOfClass<span class="token operator">:</span><span class="token punctuation">[</span>NSDictionary class<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    BMXConversation <span class="token operator">*</span>conversation <span class="token operator">=</span> self<span class="token punctuation">.</span>conversatonList<span class="token punctuation">[</span>indexPath<span class="token punctuation">.</span>row<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>conversation<span class="token punctuation">.</span>unreadNumber <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            
        <span class="token keyword">if</span> <span class="token punctuation">(</span>conversation<span class="token punctuation">.</span>lastMessage<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> readAllMessage<span class="token operator">:</span>conversation<span class="token punctuation">.</span>lastMessage<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Main/Controller/MainViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Main/Controller/MainViewController.m#L611" target="_blank">Github Source: MaxIM/Class/Module/Main/Controller/MainViewController.m (line 611)</a></div></p>
<h3 id="readcancel">readCancel:</h3>
<p>Mark this message as unread and synchronize to all devices of the current user</p>
<p><code>- (void)readCancel:(BMXMessageObject *)*message*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Mark this message as unread and synchronize to all devices of the current user</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/recallMessage:completion:" title="recallMessage:completion:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>setUnread <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> readCancel<span class="token operator">:</span>self<span class="token punctuation">.</span>currentMessage<span class="token punctuation">.</span>messageObjc<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L693" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 693)</a></div><pre class="language-"><code class="lang-c">handler<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span>UIAlertAction <span class="token operator">*</span> action<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>message<span class="token punctuation">.</span>messageObjc<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> readCancel<span class="token operator">:</span>message<span class="token punctuation">.</span>messageObjc<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L904" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 904)</a></div></p>
<h3 id="recallmessagecompletion">recallMessage:completion:</h3>
<p>Recall a message, and the message status change is notified via listener
*</p>
<p><code>- (void)recallMessage:(BMXMessageObject *)*message* completion:(void ( ^ ) ( BMXMessageObject *message , BMXError *error ))*aCompletionBlock*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Recall a message, and the message status change is notified via listener
*</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/removeChatListener:" title="removeChatListener:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>recallMessage <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>UIMenuController sharedMenuController<span class="token punctuation">]</span> setMenuVisible<span class="token operator">:</span>NO animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> recallMessage<span class="token operator">:</span>self<span class="token punctuation">.</span>currentMessage<span class="token punctuation">.</span>messageObjc completion<span class="token operator">:</span>nil<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L685" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 685)</a></div></p>
<h3 id="removechatlistener">removeChatListener:</h3>
<p>Remove chat listener</p>
<p><code>- (void)removeChatListener:(id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BMXChatServiceProtocol</span><span class="token punctuation">&gt;</span></span>)*listener*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Remove chat listener</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/removeDelegate:" title="removeDelegate:"></a>
<strong>Example</strong>:</p>
<p></p>
<h3 id="removedelegate">removeDelegate:</h3>
<p><code>- (void)removeDelegate:(id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>BMXChatServiceProtocol</span><span class="token punctuation">&gt;</span></span>)*aDelegate*</code></p>
<p><a name="//api/name/removeMessage:synchronizeDeviceForce:" title="removeMessage:synchronizeDeviceForce:"></a>
<strong>Example</strong>:</p>
<p></p>
<h3 id="removemessagesynchronizedeviceforce">removeMessage:synchronizeDeviceForce:</h3>
<p>Delete this message, which synchronizes to other devices of the current user</p>
<p><code>- (void)removeMessage:(BMXMessageObject *)*message* synchronizeDeviceForce:(BOOL)*synchronizeDeviceForce*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Delete this message, which synchronizes to other devices of the current user</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/resendMessage:completion:" title="resendMessage:completion:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>deleteMessage <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span>UIMenuController sharedMenuController<span class="token punctuation">]</span> setMenuVisible<span class="token operator">:</span>NO animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> removeMessage<span class="token operator">:</span>self<span class="token punctuation">.</span>currentMessage<span class="token punctuation">.</span>messageObjc synchronizeDeviceForce<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L700" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 700)</a></div></p>
<h3 id="resendmessagecompletion">resendMessage:completion:</h3>
<p>Resend this message, and the message status change is notified via listener
*</p>
<p><code>- (void)resendMessage:(BMXMessageObject *)*message* completion:(void ( ^ ) ( BMXMessageObject *message , BMXError *error ))*aCompletionBlock*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Resend this message, and the message status change is notified via listener
*</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/retrieveHistoryBMXconversation:msgId:size:completion:" title="retrieveHistoryBMXconversation:msgId:size:completion:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>retryButtonPressed<span class="token operator">:</span><span class="token punctuation">(</span>UIButton <span class="token operator">*</span><span class="token punctuation">)</span>sender <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>self routerEventWithName<span class="token operator">:</span>kRouterEventChatResendEventName
                     userInfo<span class="token operator">:</span>@<span class="token punctuation">{</span>kShouldResendCell <span class="token operator">:</span> self<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    self<span class="token punctuation">.</span>self<span class="token punctuation">.</span>messageModel<span class="token punctuation">.</span>status <span class="token operator">=</span> MessageDeliveryState_Delivering<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self layoutSubviews<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> resendMessage<span class="token operator">:</span> self<span class="token punctuation">.</span>messageModel<span class="token punctuation">.</span>messageObjc completion<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span>BMXMessageObject <span class="token operator">*</span>message<span class="token punctuation">,</span> BMXError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/View/LHChatViewCell.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/View/LHChatViewCell.m#L129" target="_blank">Github Source: MaxIM/Class/Module/Chat/View/LHChatViewCell.m (line 129)</a></div></p>
<h3 id="retrievehistorybmxconversationmsgidsizecompletion">retrieveHistoryBMXconversation:msgId:size:completion:</h3>
<p>Pull message history</p>
<p><code>- (void)retrieveHistoryBMXconversation:(BMXConversation *)*conversation* msgId:(long long)*msgId* size:(NSUInteger)*size* completion:(void ( ^ ) ( NSArray *messageListms , BMXError *error ))*aCompletionBlock*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Pull message history</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/searchMessagesByKeyWords:refTime:size:directionType:completion:" title="searchMessagesByKeyWords:refTime:size:directionType:completion:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c">                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token keyword">else</span> <span class="token punctuation">{</span>
        self<span class="token punctuation">.</span>deImage <span class="token operator">=</span> image<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
        
<span class="token punctuation">}</span>
self<span class="token punctuation">.</span>conversation <span class="token operator">=</span> conversation<span class="token punctuation">;</span>
    
<span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> retrieveHistoryBMXconversation<span class="token operator">:</span>self<span class="token punctuation">.</span>conversation msgId<span class="token operator">:</span><span class="token number">0</span> size<span class="token operator">:</span><span class="token number">10</span> completion<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray <span class="token operator">*</span>messageListms<span class="token punctuation">,</span> BMXError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L359" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 359)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>getHistoryMessage <span class="token punctuation">{</span>
    BMXMessageObject <span class="token operator">*</span>firstMessage<span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> self<span class="token punctuation">.</span>dataSource<span class="token punctuation">.</span>count<span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        LHMessageModel <span class="token operator">*</span>messageModel <span class="token operator">=</span> self<span class="token punctuation">.</span>dataSource<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">[</span>messageModel isKindOfClass<span class="token operator">:</span><span class="token punctuation">[</span>LHMessageModel class<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            firstMessage <span class="token operator">=</span> messageModel<span class="token punctuation">.</span>messageObjc<span class="token punctuation">;</span>
            <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">long</span> <span class="token keyword">long</span> firstMessageId <span class="token operator">=</span> firstMessage<span class="token operator">?</span> firstMessage<span class="token punctuation">.</span>msgId <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
    
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> retrieveHistoryBMXconversation<span class="token operator">:</span>self<span class="token punctuation">.</span>conversation msgId<span class="token operator">:</span>firstMessageId size<span class="token operator">:</span><span class="token number">10</span> completion<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray <span class="token operator">*</span>messageListms<span class="token punctuation">,</span> BMXError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L1294" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 1294)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>loadMessages <span class="token punctuation">{</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> retrieveHistoryBMXconversation<span class="token operator">:</span>self<span class="token punctuation">.</span>conversation msgId<span class="token operator">:</span><span class="token number">0</span> size<span class="token operator">:</span><span class="token number">10</span> completion<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray <span class="token operator">*</span>messageListms<span class="token punctuation">,</span> BMXError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Main/Controller/SystemNotificationViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Main/Controller/SystemNotificationViewController.m#L39" target="_blank">Github Source: MaxIM/Class/Module/Main/Controller/SystemNotificationViewController.m (line 39)</a></div></p>
<h3 id="searchmessagesbykeywordsreftimesizedirectiontypecompletion">searchMessagesByKeyWords:refTime:size:directionType:completion:</h3>
<p>Search for messages</p>
<p><code>- (void)searchMessagesByKeyWords:(NSString *)*keywords* refTime:(NSTimeInterval)*refTime* size:(NSUInteger)*size* directionType:(BMXMessageDirection)*directionType* completion:(void ( ^ ) ( NSArray *array , BMXError *error ))*aCompletionBlock*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Search for messages</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/sendMessage:" title="sendMessage:"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>searchContentWith<span class="token operator">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>keywords <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>isConversation <span class="token operator">==</span> YES<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>searchContentType <span class="token operator">==</span> BMXContentTypeText<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">[</span>self<span class="token punctuation">.</span>conversation searchMessagesByKeyWords<span class="token operator">:</span>keywords refTime<span class="token operator">:</span><span class="token number">0</span> size<span class="token operator">:</span><span class="token number">100</span> directionType<span class="token operator">:</span>BMXMessageDirectionUp completion<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>BMXMessageObject <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span> _Nonnull messageList<span class="token punctuation">,</span> BMXError <span class="token operator">*</span> _Nonnull error<span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Search/SearchContentViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Search/SearchContentViewController.m#L144" target="_blank">Github Source: MaxIM/Class/Module/Search/SearchContentViewController.m (line 144)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>searchContentWith<span class="token operator">:</span><span class="token punctuation">(</span>NSString <span class="token operator">*</span><span class="token punctuation">)</span>keywords <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>isConversation <span class="token operator">==</span> YES<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>self<span class="token punctuation">.</span>searchContentType <span class="token operator">==</span> BMXContentTypeText<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">[</span>self<span class="token punctuation">.</span>conversation searchMessagesByKeyWords<span class="token operator">:</span>keywords refTime<span class="token operator">:</span><span class="token number">0</span> size<span class="token operator">:</span><span class="token number">100</span> directionType<span class="token operator">:</span>BMXMessageDirectionUp completion<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray<span class="token operator">&lt;</span>BMXMessageObject <span class="token operator">*</span><span class="token operator">&gt;</span> <span class="token operator">*</span> _Nonnull messageList<span class="token punctuation">,</span> BMXError <span class="token operator">*</span> _Nonnull error<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token punctuation">[</span>self dataHandleMessages<span class="token operator">:</span>messageList<span class="token punctuation">]</span><span class="token punctuation">;</span>

            <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> searchMessagesByKeyWords<span class="token operator">:</span>keywords refTime<span class="token operator">:</span><span class="token number">0</span> size<span class="token operator">:</span><span class="token number">100</span> directionType<span class="token operator">:</span>BMXMessageDirectionUp completion<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span>NSArray <span class="token operator">*</span>array<span class="token punctuation">,</span> BMXError <span class="token operator">*</span>error<span class="token punctuation">)</span> <span class="token punctuation">{</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Search/SearchContentViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Search/SearchContentViewController.m#L150" target="_blank">Github Source: MaxIM/Class/Module/Search/SearchContentViewController.m (line 150)</a></div></p>
<h3 id="sendmessage">sendMessage:</h3>
<p>Send a message, and the message status change is notified via listener
*</p>
<p><code>- (void)sendMessage:(BMXMessageObject *)*message*</code></p>
<h4 id="discussion">Discussion</h4>
<p>Send a message, and the message status change is notified via listener
*</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><a name="//api/name/transferingNum" title="transferingNum"></a>
<strong>Example</strong>:</p>
<p><pre class="language-"><code class="lang-c">alertView<span class="token punctuation">.</span>btnClickBlock <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">{</span>
        
    UIImage <span class="token operator">*</span>image <span class="token operator">=</span> contentImg<span class="token punctuation">;</span>
    NSData <span class="token operator">*</span>imageData <span class="token operator">=</span> <span class="token function">UIImageJPEGRepresentation</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span><span class="token number">1.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    NSData <span class="token operator">*</span>thumImageData <span class="token operator">=</span>  <span class="token function">UIImageJPEGRepresentation</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span><span class="token number">1.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    BMXImageAttachment <span class="token operator">*</span>imageAttachment <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>BMXImageAttachment alloc<span class="token punctuation">]</span> initWithData<span class="token operator">:</span>imageData thumbnailData<span class="token operator">:</span>thumImageData imageSize<span class="token operator">:</span>image<span class="token punctuation">.</span>size conversationId<span class="token operator">:</span><span class="token punctuation">[</span>NSString stringWithFormat<span class="token operator">:</span>@<span class="token string">&quot;%lld&quot;</span><span class="token punctuation">,</span>group<span class="token punctuation">.</span>groupId<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    imageAttachment<span class="token punctuation">.</span>pictureSize <span class="token operator">=</span> <span class="token function">CGSizeMake</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span> image<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
    IMAcount <span class="token operator">*</span>account <span class="token operator">=</span> <span class="token punctuation">[</span>IMAcountInfoStorage loadObject<span class="token punctuation">]</span><span class="token punctuation">;</span>
    BMXMessageObject <span class="token operator">*</span>messageObject <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>BMXMessageObject alloc<span class="token punctuation">]</span> initWithBMXMessageAttachment<span class="token operator">:</span>imageAttachment fromId<span class="token operator">:</span><span class="token punctuation">[</span>account<span class="token punctuation">.</span>usedId longLongValue<span class="token punctuation">]</span> toId<span class="token operator">:</span>group<span class="token punctuation">.</span>groupId type<span class="token operator">:</span>BMXMessageTypeGroup conversationId<span class="token operator">:</span>group<span class="token punctuation">.</span>groupId<span class="token punctuation">]</span><span class="token punctuation">;</span>
    messageObject<span class="token punctuation">.</span>contentType <span class="token operator">=</span> BMXContentTypeImage<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>messageObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> sendMessage<span class="token operator">:</span>messageObject<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Group/GroupListSelectViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Group/GroupListSelectViewController.m#L149" target="_blank">Github Source: MaxIM/Class/Module/Group/GroupListSelectViewController.m (line 149)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sendTypingMessage<span class="token operator">:</span><span class="token punctuation">(</span>NSDictionary <span class="token operator">*</span><span class="token punctuation">)</span>configdic <span class="token punctuation">{</span>
    BMXMessageObject <span class="token operator">*</span>messageObject <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>BMXMessageObject alloc<span class="token punctuation">]</span> initWithBMXMessageText<span class="token operator">:</span>@<span class="token string">&quot;&quot;</span>
                                                                                fromId<span class="token operator">:</span><span class="token punctuation">[</span>self<span class="token punctuation">.</span>account<span class="token punctuation">.</span>usedId longLongValue<span class="token punctuation">]</span>
                                                                                  toId<span class="token operator">:</span>self<span class="token punctuation">.</span>currentRoster<span class="token punctuation">.</span>rosterId
                                                                                  type<span class="token operator">:</span>BMXMessageTypeSingle
                                                                        conversationId<span class="token operator">:</span>self<span class="token punctuation">.</span>currentRoster<span class="token punctuation">.</span>rosterId<span class="token punctuation">]</span><span class="token punctuation">;</span>
    messageObject<span class="token punctuation">.</span>extensionJson <span class="token operator">=</span> <span class="token punctuation">[</span>NSString jsonStringWithDictionary<span class="token operator">:</span>configdic<span class="token punctuation">]</span><span class="token punctuation">;</span>
    messageObject<span class="token punctuation">.</span>qos <span class="token operator">=</span> DeliveryQosModeAtMostOnce<span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> sendMessage<span class="token operator">:</span>messageObject<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L231" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 231)</a></div><pre class="language-"><code class="lang-c">    self<span class="token punctuation">.</span>lastTime <span class="token operator">=</span> <span class="token punctuation">[</span>NSString stringWithFormat<span class="token operator">:</span>@<span class="token string">&quot;%f&quot;</span><span class="token punctuation">,</span>messageModel<span class="token punctuation">.</span>messageObjc<span class="token punctuation">.</span>serverTimestamp <span class="token operator">*</span> <span class="token number">0.001</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span>self insertNewMessageOrTime<span class="token operator">:</span>time<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">//        self.lastTime = time;</span>
<span class="token punctuation">}</span>
NSIndexPath <span class="token operator">*</span>index <span class="token operator">=</span> <span class="token punctuation">[</span>self insertNewMessageOrTime<span class="token operator">:</span>messageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>self<span class="token punctuation">.</span>messages addObject<span class="token operator">:</span>messageModel<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">[</span>self<span class="token punctuation">.</span>tableView scrollToRowAtIndexPath<span class="token operator">:</span>index atScrollPosition<span class="token operator">:</span>UITableViewScrollPositionBottom animated<span class="token operator">:</span>YES<span class="token punctuation">]</span><span class="token punctuation">;</span>
    
<span class="token keyword">if</span> <span class="token punctuation">(</span>messageObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    messageObject<span class="token punctuation">.</span>clientTimestamp <span class="token operator">=</span> <span class="token punctuation">[</span>messageModel<span class="token punctuation">.</span>date longLongValue<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> sendMessage<span class="token operator">:</span>messageObject<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L1934" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 1934)</a></div><pre class="language-"><code class="lang-c">_chatBarView<span class="token punctuation">.</span>sendContent <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">(</span>LHContentModel <span class="token operator">*</span>content<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>weakSelf sendMessage<span class="token operator">:</span>content<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L2068" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 2068)</a></div><pre class="language-"><code class="lang-c">alertView<span class="token punctuation">.</span>btnClickBlock <span class="token operator">=</span> <span class="token operator">^</span><span class="token punctuation">{</span>
        
        UIImage <span class="token operator">*</span>image <span class="token operator">=</span> contentImg<span class="token punctuation">;</span>
        NSData <span class="token operator">*</span>imageData <span class="token operator">=</span> <span class="token function">UIImageJPEGRepresentation</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span><span class="token number">1.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        NSData <span class="token operator">*</span>thumImageData <span class="token operator">=</span>  <span class="token function">UIImageJPEGRepresentation</span><span class="token punctuation">(</span>image<span class="token punctuation">,</span><span class="token number">1.0f</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        BMXImageAttachment <span class="token operator">*</span>imageAttachment <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>BMXImageAttachment alloc<span class="token punctuation">]</span> initWithData<span class="token operator">:</span>imageData thumbnailData<span class="token operator">:</span>thumImageData imageSize<span class="token operator">:</span>image<span class="token punctuation">.</span>size conversationId<span class="token operator">:</span><span class="token punctuation">[</span>NSString stringWithFormat<span class="token operator">:</span>@<span class="token string">&quot;%lld&quot;</span><span class="token punctuation">,</span>roster<span class="token punctuation">.</span>rosterId<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        imageAttachment<span class="token punctuation">.</span>pictureSize <span class="token operator">=</span> <span class="token function">CGSizeMake</span><span class="token punctuation">(</span>image<span class="token punctuation">.</span>size<span class="token punctuation">.</span>width<span class="token punctuation">,</span> image<span class="token punctuation">.</span>size<span class="token punctuation">.</span>height<span class="token punctuation">)</span><span class="token punctuation">;</span>
        IMAcount <span class="token operator">*</span>account <span class="token operator">=</span> <span class="token punctuation">[</span>IMAcountInfoStorage loadObject<span class="token punctuation">]</span><span class="token punctuation">;</span>
    BMXMessageObject <span class="token operator">*</span>messageObject <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>BMXMessageObject alloc<span class="token punctuation">]</span> initWithBMXMessageAttachment<span class="token operator">:</span>imageAttachment fromId<span class="token operator">:</span><span class="token punctuation">[</span>account<span class="token punctuation">.</span>usedId longLongValue<span class="token punctuation">]</span> toId<span class="token operator">:</span>roster<span class="token punctuation">.</span>rosterId type<span class="token operator">:</span>BMXMessageTypeSingle conversationId<span class="token operator">:</span>roster<span class="token punctuation">.</span>rosterId<span class="token punctuation">]</span><span class="token punctuation">;</span>
        messageObject<span class="token punctuation">.</span>contentType <span class="token operator">=</span> BMXContentTypeImage<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>messageObject<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>BMXClient sharedClient<span class="token punctuation">]</span> chatService<span class="token punctuation">]</span> sendMessage<span class="token operator">:</span>messageObject<span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/ContactList/ViewController/RosterListViewController.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/ContactList/ViewController/RosterListViewController.m#L97" target="_blank">Github Source: MaxIM/Class/Module/ContactList/ViewController/RosterListViewController.m (line 97)</a></div><pre class="language-"><code class="lang-c"><span class="token operator">-</span> <span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span>sendMessage<span class="token operator">:</span><span class="token punctuation">(</span>LHContentModel <span class="token operator">*</span><span class="token punctuation">)</span>content <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>content<span class="token punctuation">.</span>words <span class="token operator">&amp;&amp;</span> content<span class="token punctuation">.</span>words<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// &#x6587;&#x5B57;&#x7C7B;&#x578B;</span>
        <span class="token punctuation">[</span>self p_configsendMessage<span class="token operator">:</span>content<span class="token punctuation">.</span>words type<span class="token operator">:</span>MessageBodyType_Text duartion<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>content<span class="token punctuation">.</span>photos <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>content<span class="token punctuation">.</span>photos<span class="token punctuation">.</span>photos<span class="token punctuation">.</span>count<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token comment">// &#x56FE;&#x7247;&#x7C7B;&#x578B;</span>
    <span class="token punctuation">[</span>content<span class="token punctuation">.</span>photos<span class="token punctuation">.</span>photos enumerateObjectsUsingBlock<span class="token operator">:</span><span class="token operator">^</span><span class="token punctuation">(</span>UIImage <span class="token operator">*</span>image<span class="token punctuation">,</span> NSUInteger idx<span class="token punctuation">,</span> BOOL <span class="token operator">*</span> stop<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token punctuation">[</span>self p_configsendMessage<span class="token operator">:</span>image type<span class="token operator">:</span>MessageBodyType_Image duartion<span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span></code></pre><div class="lanying-code-snippet-caption"><a title="Show Full Source of MaxIM/Class/Module/Chat/Controller/LHChatVC.m" href="https://github.com/maxim-top/lanying-im-ios/blob/156197abc62db5744cb7dac29c765062183c1cf8/MaxIM/Class/Module/Chat/Controller/LHChatVC.m#L534" target="_blank">Github Source: MaxIM/Class/Module/Chat/Controller/LHChatVC.m (line 534)</a></div></p>
<h3 id="transferingnum">transferingNum</h3>
<p>Number of uploading/downloading files</p>
<p><code>- (int)transferingNum</code></p>
<h4 id="discussion">Discussion</h4>
<p>Number of uploading/downloading files</p>
<h4 id="declared-in">Declared In</h4>
<ul>
<li><code>BMXChatManager.h</code></li>
</ul>
<p><strong>Example</strong>:</p>
<p></p>
<footer class="page-footer"><span class="copyright">&#xA9; 2019-2022 MaximTop | <a href="https://lanyingim.com" style="text-decoration:none!important;" target="_blank">Homepage</a> </span><span class="footer-modification">Last modified time:
2022-09-21 11:43:07
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class="search-results-count"></span> results matching &quot;<span class="search-query"></span>&quot;</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching &quot;<span class="search-query"></span>&quot;</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="../protocols.html" class="navigation navigation-prev " aria-label="Previous page: Protocols">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="BMXChatServiceProtocol.html" class="navigation navigation-next " aria-label="Next page: BMXChatServiceProtocol">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"BMXChatManager","level":"1.3.1.2.1","depth":4,"next":{"title":"BMXChatServiceProtocol","level":"1.3.1.2.2","depth":4,"path":"reference/floo-ios/Protocols/BMXChatServiceProtocol.md","ref":"reference/floo-ios/Protocols/BMXChatServiceProtocol.md","articles":[]},"previous":{"title":"Protocols","level":"1.3.1.2","depth":3,"path":"reference/floo-ios/protocols.md","ref":"reference/floo-ios/protocols.md","articles":[{"title":"BMXChatManager","level":"1.3.1.2.1","depth":4,"path":"reference/floo-ios/Protocols/BMXChatManager.md","ref":"reference/floo-ios/Protocols/BMXChatManager.md","articles":[]},{"title":"BMXChatServiceProtocol","level":"1.3.1.2.2","depth":4,"path":"reference/floo-ios/Protocols/BMXChatServiceProtocol.md","ref":"reference/floo-ios/Protocols/BMXChatServiceProtocol.md","articles":[]},{"title":"BMXGroupManager","level":"1.3.1.2.3","depth":4,"path":"reference/floo-ios/Protocols/BMXGroupManager.md","ref":"reference/floo-ios/Protocols/BMXGroupManager.md","articles":[]},{"title":"BMXGroupServiceProtocol","level":"1.3.1.2.4","depth":4,"path":"reference/floo-ios/Protocols/BMXGroupServiceProtocol.md","ref":"reference/floo-ios/Protocols/BMXGroupServiceProtocol.md","articles":[]},{"title":"BMXPushManager","level":"1.3.1.2.5","depth":4,"path":"reference/floo-ios/Protocols/BMXPushManager.md","ref":"reference/floo-ios/Protocols/BMXPushManager.md","articles":[]},{"title":"BMXPushServiceProtocol","level":"1.3.1.2.6","depth":4,"path":"reference/floo-ios/Protocols/BMXPushServiceProtocol.md","ref":"reference/floo-ios/Protocols/BMXPushServiceProtocol.md","articles":[]},{"title":"BMXRosterManager","level":"1.3.1.2.7","depth":4,"path":"reference/floo-ios/Protocols/BMXRosterManager.md","ref":"reference/floo-ios/Protocols/BMXRosterManager.md","articles":[]},{"title":"BMXRosterServiceProtocol","level":"1.3.1.2.8","depth":4,"path":"reference/floo-ios/Protocols/BMXRosterServiceProtocol.md","ref":"reference/floo-ios/Protocols/BMXRosterServiceProtocol.md","articles":[]},{"title":"BMXUserManager","level":"1.3.1.2.9","depth":4,"path":"reference/floo-ios/Protocols/BMXUserManager.md","ref":"reference/floo-ios/Protocols/BMXUserManager.md","articles":[]},{"title":"BMXUserServiceProtocol","level":"1.3.1.2.10","depth":4,"path":"reference/floo-ios/Protocols/BMXUserServiceProtocol.md","ref":"reference/floo-ios/Protocols/BMXUserServiceProtocol.md","articles":[]}]},"dir":"ltr"},"config":{"plugins":["github-buttons@2.1.0","edit-link@^2.0.2","fontsettings@^2.0.0","-sharing","sharing-plus@^0.0.2","-highlight","prism@^2.1.0","prism-themes@^0.0.2","-lunr","-search","lanying-code-snippet@^1.1.8","search-plus@^0.0.11","advanced-emoji@^0.2.1","expandable-chapters-small@^0.1.7","tbfed-pagefooter@^0.0.1","versions-select@^0.1.1","terminal@^0.3.2","code@^0.1.0","splitter@^0.0.8","favicon@^0.0.2","image-captions@^3.1.0","auto-scroll-table@^0.0.5","logo@^0.0.2","intopic-toc@^1.1.1","meta@^0.1.12","logo@^0.0.2","intopic-toc@^1.1.1","meta@^0.1.12"],"root":".","styles":{"website":"assets/styles/website.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":" 2019-2022 MaximTop | <a href='https://lanyingim.com' style='text-decoration:none!important;'>Homepage</a>","modify_label":"Last modified time:","modify_format":"YYYY-MM-DD HH:mm:ss"},"prism":{"css":["prism-themes/themes/prism-base16-ateliersulphurpool.light.css"]},"language-picker":{"grid-columns":3},"intopic-toc":{"isCollapsed":false,"isScrollspyActive":true,"label":"Contents","maxDepth":3,"mode":"nested","selector":".markdown-section h1, .markdown-section h2, .markdown-section h3","visible":true},"livereload":{},"meta":{"content":"","data":[{"name":"keywords","content":"Lanying IM, Maximtop, IM SDK, Instant Messaging, IM Cloud, IM Cloud Service, Mobile IM, Open Source IM, Enterprise IM, Chat Software, Mobile Customer Service, Online Customer Service, IM Business Scenario, APP Social, Developer Service, Live Chatroom, Live Audio/Video, Audio/Video, Live Platform, Maximtop Anti-spam, Content Security"}],"name":""},"simple-page-toc":{"maxDepth":3,"skipFirstH1":true},"splitter":{},"lanying-code-snippet":{"showLink":true,"reindent":true,"maxLine":20,"maxSnippetCount":8,"repositories":[{"name":"lanying-im-web","url":"https://github.com/maxim-top/lanying-im-web.git","branch":"master","cacheDir":"../cache/lanying-im-web"},{"name":"lanying-im-android","url":"https://github.com/maxim-top/lanying-im-android.git","branch":"master","cacheDir":"../cache/lanying-im-android"},{"name":"lanying-im-embedded","url":"https://github.com/maxim-top/lanying-im-embedded.git","branch":"master","cacheDir":"../cache/lanying-im-embedded"},{"name":"lanying-im-ios","url":"https://github.com/maxim-top/lanying-im-ios.git","branch":"master","cacheDir":"../cache/lanying-im-ios"}]},"logo":{"logo":"/assets/lanying-logo-color-en.png","logoStyle":"width: 200px;align: left;","url":"https://www.lanyingim.com"},"sharing-plus":{"qq":false,"all":["facebook","google","twitter","instapaper","linkedin","pocket","stumbleupon"],"douban":false,"facebook":true,"weibo":false,"instapaper":false,"whatsapp":false,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":false,"vk":false,"pocket":true,"google":false,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":false},"auto-scroll-table":{},"code":{"copyButtons":true},"versions-select":{"type":"branches"},"github-tables":{"myConfigKey":"it's the default value"},"fontsettings":{"family":"sans","size":2,"theme":"white"},"canonical-link":{"baseURL":"https://docs.lanyingim.com"},"favicon":{"shortcut":"/assets/favicon.ico","bookmark":"/assets/favicon.ico"},"prism-themes":{},"github-buttons":{"repo":"maxim-top/im.gitbook","types":["star"],"size":"small"},"expandable-chapters-small":{},"versions":{"type":"languages","options":[{"value":"/","text":""},{"value":"/en/","text":"English"}]},"advanced-emoji":{"embedEmojis":false},"include-codeblock":{"template":"ace","unindent":true,"edit":true},"sharing":{"qq":false,"all":["facebook","google","twitter","weibo","instapaper","linkedin","pocket","stumbleupon","qq","qzone","douban","line","whatsapp"],"douban":false,"facebook":true,"weibo":true,"instapaper":false,"whatsapp":true,"hatenaBookmark":false,"twitter":true,"messenger":false,"line":true,"vk":false,"pocket":false,"google":true,"viber":false,"stumbleupon":false,"qzone":false,"linkedin":true},"terminal":{"copyButtons":true,"fade":false,"style":"flat"},"edit-link":{"label":"Edit On GitHub","base":"https://github.com/maxim-top/im.gitbook/blob/master"},"theme-default":{"styles":{"website":"styles/website.css","pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css"},"showLevel":false},"search-plus":{},"image-captions":{"caption":"_CAPTION_","variable_name":"_pictures"}},"theme":"default","author":"jinhai","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{"_pictures":[{"backlink":"index.html#fig1.1.1","level":"1.1","list_caption":"Figure: Lanying IM cloud open platform architecture","alt":"Lanying IM cloud open platform architecture","nro":1,"url":"assets/1.png","index":1,"caption_template":"_CAPTION_","label":"Lanying IM cloud open platform architecture","attributes":{},"skip":false,"key":"1.1.1"},{"backlink":"index.html#fig1.1.2","level":"1.1","list_caption":"Figure: Lanying IM SDK technology stack","alt":"Lanying IM SDK technology stack","nro":2,"url":"assets/2.png","index":2,"caption_template":"_CAPTION_","label":"Lanying IM SDK technology stack","attributes":{},"skip":false,"key":"1.1.2"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.1","level":"1.2.7","list_caption":"Figure: Create application","alt":"Create application","nro":3,"url":"../assets/1-1.create_app.png","index":1,"caption_template":"_CAPTION_","label":"Create application","attributes":{},"skip":false,"key":"1.2.7.1"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.2","level":"1.2.7","list_caption":"Figure: Application information","alt":"Application information","nro":4,"url":"../assets/1-2.app_info.png","index":2,"caption_template":"_CAPTION_","label":"Application information","attributes":{},"skip":false,"key":"1.2.7.2"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.3","level":"1.2.7","list_caption":"Figure: Enable Private Cloud Services","alt":"Enable Private Cloud Services","nro":5,"url":"../assets/1-3.select_private_plan.png","index":3,"caption_template":"_CAPTION_","label":"Enable Private Cloud Services","attributes":{},"skip":false,"key":"1.2.7.3"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.4","level":"1.2.7","list_caption":"Figure: Private Cloud Deployment","alt":"Private Cloud Deployment","nro":6,"url":"../assets/1-4.deploy.png","index":4,"caption_template":"_CAPTION_","label":"Private Cloud Deployment","attributes":{},"skip":false,"key":"1.2.7.4"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.5","level":"1.2.7","list_caption":"Figure: Get Private Cloud installation token","alt":"Get Private Cloud installation token","nro":7,"url":"../assets/1-5.get_install_token.png","index":5,"caption_template":"_CAPTION_","label":"Get Private Cloud installation token","attributes":{},"skip":false,"key":"1.2.7.5"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.6","level":"1.2.7","list_caption":"Figure: Single server version installation: Step 1","alt":"Single server version installation: Step 1","nro":8,"url":"../assets/2-1.install_single_s1.png","index":6,"caption_template":"_CAPTION_","label":"Single server version installation: Step 1","attributes":{},"skip":false,"key":"1.2.7.6"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.7","level":"1.2.7","list_caption":"Figure: Single server version installation: Step 2","alt":"Single server version installation: Step 2","nro":9,"url":"../assets/2-2.install_single_s2.png","index":7,"caption_template":"_CAPTION_","label":"Single server version installation: Step 2","attributes":{},"skip":false,"key":"1.2.7.7"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.8","level":"1.2.7","list_caption":"Figure: Single server version installation: Step 3","alt":"Single server version installation: Step 3","nro":10,"url":"../assets/2-3.install_single_s3.png","index":8,"caption_template":"_CAPTION_","label":"Single server version installation: Step 3","attributes":{},"skip":false,"key":"1.2.7.8"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.9","level":"1.2.7","list_caption":"Figure: Single server version installation: Step 4","alt":"Single server version installation: Step 4","nro":11,"url":"../assets/2-4.install_single_s4.png","index":9,"caption_template":"_CAPTION_","label":"Single server version installation: Step 4","attributes":{},"skip":false,"key":"1.2.7.9"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.10","level":"1.2.7","list_caption":"Figure: Single server version installation: Step 5","alt":"Single server version installation: Step 5","nro":12,"url":"../assets/2-5.install_single_s5.png","index":10,"caption_template":"_CAPTION_","label":"Single server version installation: Step 5","attributes":{},"skip":false,"key":"1.2.7.10"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.11","level":"1.2.7","list_caption":"Figure: Cluster permission configuration: Step 1","alt":"Cluster permission configuration: Step 1","nro":13,"url":"../assets/3-1-1.config_cluster_s1.png","index":11,"caption_template":"_CAPTION_","label":"Cluster permission configuration: Step 1","attributes":{},"skip":false,"key":"1.2.7.11"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.12","level":"1.2.7","list_caption":"Figure: Cluster permission configuration: Step 2","alt":"Cluster permission configuration: Step 2","nro":14,"url":"../assets/3-1-2.config_cluster_s2.png","index":12,"caption_template":"_CAPTION_","label":"Cluster permission configuration: Step 2","attributes":{},"skip":false,"key":"1.2.7.12"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.13","level":"1.2.7","list_caption":"Figure: Cluster permission configuration: Step 3","alt":"Cluster permission configuration: Step 3","nro":15,"url":"../assets/3-1-3.config_cluster_s3.png","index":13,"caption_template":"_CAPTION_","label":"Cluster permission configuration: Step 3","attributes":{},"skip":false,"key":"1.2.7.13"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.14","level":"1.2.7","list_caption":"Figure: Cluster permission configuration: Step 4","alt":"Cluster permission configuration: Step 4","nro":16,"url":"../assets/3-1-4.config_cluster_s4.png","index":14,"caption_template":"_CAPTION_","label":"Cluster permission configuration: Step 4","attributes":{},"skip":false,"key":"1.2.7.14"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.15","level":"1.2.7","list_caption":"Figure: Cluster permission configuration: Step 5","alt":"Cluster permission configuration: Step 5","nro":17,"url":"../assets/3-1-5.config_cluster_s5.png","index":15,"caption_template":"_CAPTION_","label":"Cluster permission configuration: Step 5","attributes":{},"skip":false,"key":"1.2.7.15"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.16","level":"1.2.7","list_caption":"Figure: Cluster version installation: Step 1","alt":"Cluster version installation: Step 1","nro":18,"url":"../assets/3-2-1.install_cluster_s1.png","index":16,"caption_template":"_CAPTION_","label":"Cluster version installation: Step 1","attributes":{},"skip":false,"key":"1.2.7.16"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.17","level":"1.2.7","list_caption":"Figure: Cluster version installation: Step 2","alt":"Cluster version installation: Step 2","nro":19,"url":"../assets/3-2-2.install_cluster_s2.png","index":17,"caption_template":"_CAPTION_","label":"Cluster version installation: Step 2","attributes":{},"skip":false,"key":"1.2.7.17"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.18","level":"1.2.7","list_caption":"Figure: Cluster version installation: Step 3","alt":"Cluster version installation: Step 3","nro":20,"url":"../assets/3-2-3.install_cluster_s3.png","index":18,"caption_template":"_CAPTION_","label":"Cluster version installation: Step 3","attributes":{},"skip":false,"key":"1.2.7.18"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.19","level":"1.2.7","list_caption":"Figure: Cluster version installation: Step 4","alt":"Cluster version installation: Step 4","nro":21,"url":"../assets/3-2-4.install_cluster_s4.png","index":19,"caption_template":"_CAPTION_","label":"Cluster version installation: Step 4","attributes":{},"skip":false,"key":"1.2.7.19"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.20","level":"1.2.7","list_caption":"Figure: Cluster version installation: Step 5","alt":"Cluster version installation: Step 5","nro":22,"url":"../assets/3-2-5.install_cluster_s5.png","index":20,"caption_template":"_CAPTION_","label":"Cluster version installation: Step 5","attributes":{},"skip":false,"key":"1.2.7.20"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.21","level":"1.2.7","list_caption":"Figure: Mount the offline installation package and add maxim.ctl to the executable path","alt":"Mount the offline installation package and add maxim.ctl to the executable path","nro":23,"url":"../assets/offline_mount_and_add_exec.png","index":21,"caption_template":"_CAPTION_","label":"Mount the offline installation package and add maxim.ctl to the executable path","attributes":{},"skip":false,"key":"1.2.7.21"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.22","level":"1.2.7","list_caption":"Figure: generate offline configuration file","alt":"generate offline configuration file","nro":24,"url":"../assets/generate_offline_install_configration.png","index":22,"caption_template":"_CAPTION_","label":"generate offline configuration file","attributes":{},"skip":false,"key":"1.2.7.22"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.23","level":"1.2.7","list_caption":"Figure: Single version (offline installation) start installation","alt":"Single version (offline installation) start installation","nro":25,"url":"../assets/single_offline_start_install.png","index":23,"caption_template":"_CAPTION_","label":"Single version (offline installation) start installation","attributes":{},"skip":false,"key":"1.2.7.23"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.24","level":"1.2.7","list_caption":"Figure: Single version (offline installation) installation completed","alt":"Single version (offline installation) installation completed","nro":26,"url":"../assets/single_offline_finish_install.png","index":24,"caption_template":"_CAPTION_","label":"Single version (offline installation) installation completed","attributes":{},"skip":false,"key":"1.2.7.24"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.25","level":"1.2.7","list_caption":"Figure: Generate Cluster LicenseKey","alt":"Generate Cluster LicenseKey","nro":27,"url":"../assets/single_offline_export_license_key.png","index":25,"caption_template":"_CAPTION_","label":"Generate Cluster LicenseKey","attributes":{},"skip":false,"key":"1.2.7.25"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.26","level":"1.2.7","list_caption":"Figure: Click to activate the cluster on the Private Cloud page of the Console, select the cluster capacity, enter the LicenseKey, and click \"Activate the cluster\"","alt":"Click to activate the cluster on the Private Cloud page of the Console, select the cluster capacity, enter the LicenseKey, and click \"Activate the cluster\"","nro":28,"url":"../assets/single_offline_activate.png","index":26,"caption_template":"_CAPTION_","label":"Click to activate the cluster on the Private Cloud page of the Console, select the cluster capacity, enter the LicenseKey, and click \"Activate the cluster\"","attributes":{},"skip":false,"key":"1.2.7.26"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.27","level":"1.2.7","list_caption":"Figure: Activate command","alt":"Activate command","nro":29,"url":"../assets/single_offline_activate_success.png","index":27,"caption_template":"_CAPTION_","label":"Activate command","attributes":{},"skip":false,"key":"1.2.7.27"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.28","level":"1.2.7","list_caption":"Figure: Execute activation command in cluster","alt":"Execute activation command in cluster","nro":30,"url":"../assets/single_offline_exec_activate.png","index":28,"caption_template":"_CAPTION_","label":"Execute activation command in cluster","attributes":{},"skip":false,"key":"1.2.7.28"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.29","level":"1.2.7","list_caption":"Figure: Cluster permission configuration: Step 1","alt":"Cluster permission configuration: Step 1","nro":31,"url":"../assets/3-1-1.config_cluster_s1.png","index":29,"caption_template":"_CAPTION_","label":"Cluster permission configuration: Step 1","attributes":{},"skip":false,"key":"1.2.7.29"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.30","level":"1.2.7","list_caption":"Figure: Cluster permission configuration: Step 2","alt":"Cluster permission configuration: Step 2","nro":32,"url":"../assets/3-1-2.config_cluster_s2.png","index":30,"caption_template":"_CAPTION_","label":"Cluster permission configuration: Step 2","attributes":{},"skip":false,"key":"1.2.7.30"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.31","level":"1.2.7","list_caption":"Figure: Cluster permission configuration: Step 3","alt":"Cluster permission configuration: Step 3","nro":33,"url":"../assets/3-1-3.config_cluster_s3.png","index":31,"caption_template":"_CAPTION_","label":"Cluster permission configuration: Step 3","attributes":{},"skip":false,"key":"1.2.7.31"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.32","level":"1.2.7","list_caption":"Figure: Cluster permission configuration: Step 4","alt":"Cluster permission configuration: Step 4","nro":34,"url":"../assets/3-1-4.config_cluster_s4.png","index":32,"caption_template":"_CAPTION_","label":"Cluster permission configuration: Step 4","attributes":{},"skip":false,"key":"1.2.7.32"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.33","level":"1.2.7","list_caption":"Figure: Cluster permission configuration: Step 5","alt":"Cluster permission configuration: Step 5","nro":35,"url":"../assets/3-1-5.config_cluster_s5.png","index":33,"caption_template":"_CAPTION_","label":"Cluster permission configuration: Step 5","attributes":{},"skip":false,"key":"1.2.7.33"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.34","level":"1.2.7","list_caption":"Figure: Mount the offline installation package and add maxim.ctl to the executable path","alt":"Mount the offline installation package and add maxim.ctl to the executable path","nro":36,"url":"../assets/offline_mount_and_add_exec.png","index":34,"caption_template":"_CAPTION_","label":"Mount the offline installation package and add maxim.ctl to the executable path","attributes":{},"skip":false,"key":"1.2.7.34"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.35","level":"1.2.7","list_caption":"Figure: generate offline configuration file","alt":"generate offline configuration file","nro":37,"url":"../assets/generate_offline_install_configration.png","index":35,"caption_template":"_CAPTION_","label":"generate offline configuration file","attributes":{},"skip":false,"key":"1.2.7.35"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.36","level":"1.2.7","list_caption":"Figure: Cluster version (offline installation) start installation","alt":"Cluster version (offline installation) start installation","nro":38,"url":"../assets/multi_offline_start_install.png","index":36,"caption_template":"_CAPTION_","label":"Cluster version (offline installation) start installation","attributes":{},"skip":false,"key":"1.2.7.36"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.37","level":"1.2.7","list_caption":"Figure: Cluster version (offline installation) installation completed","alt":"Cluster version (offline installation) installation completed","nro":39,"url":"../assets/multi_offline_finish_install.png","index":37,"caption_template":"_CAPTION_","label":"Cluster version (offline installation) installation completed","attributes":{},"skip":false,"key":"1.2.7.37"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.38","level":"1.2.7","list_caption":"Figure: Generate Cluster LicenseKey","alt":"Generate Cluster LicenseKey","nro":40,"url":"../assets/single_offline_export_license_key.png","index":38,"caption_template":"_CAPTION_","label":"Generate Cluster LicenseKey","attributes":{},"skip":false,"key":"1.2.7.38"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.39","level":"1.2.7","list_caption":"Figure: Click to activate the cluster on the private cloud page of the console, select the cluster capacity, enter the LicenseKey, and click \"Activate the cluster\"","alt":"Click to activate the cluster on the private cloud page of the console, select the cluster capacity, enter the LicenseKey, and click \"Activate the cluster\"","nro":41,"url":"../assets/single_offline_activate.png","index":39,"caption_template":"_CAPTION_","label":"Click to activate the cluster on the private cloud page of the console, select the cluster capacity, enter the LicenseKey, and click \"Activate the cluster\"","attributes":{},"skip":false,"key":"1.2.7.39"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.40","level":"1.2.7","list_caption":"Figure: Activate command","alt":"Activate command","nro":42,"url":"../assets/single_offline_activate_success.png","index":40,"caption_template":"_CAPTION_","label":"Activate command","attributes":{},"skip":false,"key":"1.2.7.40"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.41","level":"1.2.7","list_caption":"Figure: Execute activation command in cluster","alt":"Execute activation command in cluster","nro":43,"url":"../assets/single_offline_exec_activate.png","index":41,"caption_template":"_CAPTION_","label":"Execute activation command in cluster","attributes":{},"skip":false,"key":"1.2.7.41"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.42","level":"1.2.7","list_caption":"Figure: Click Private Cloud to view the installation progress through the progress of node information","alt":"Click Private Cloud to view the installation progress through the progress of node information","nro":44,"url":"../assets/4-1.install_progress.png","index":42,"caption_template":"_CAPTION_","label":"Click Private Cloud to view the installation progress through the progress of node information","attributes":{},"skip":false,"key":"1.2.7.42"},{"backlink":"quick-start/how-to-deploy-private-cloud.html#fig1.2.7.43","level":"1.2.7","list_caption":"Figure: If all checks are normal, means the service is normal","alt":"If all checks are normal, means the service is normal","nro":45,"url":"../assets/4-2.service_status.png","index":43,"caption_template":"_CAPTION_","label":"If all checks are normal, means the service is normal","attributes":{},"skip":false,"key":"1.2.7.43"}]},"title":"LANYING.IM - Professional SDK, Monthly Charged Private Cloud","language":"en","output.name":"site","gitbook":"3.2.3","description":"API"},"file":{"path":"reference/floo-ios/Protocols/BMXChatManager.md","mtime":"2022-09-21T03:43:07.218Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"0000-00-00T00:00:00.000Z"},"basePath":"../../..","book":{"language":"en"}});
        });
    </script>
</div>

        
    <script src="../../../../gitbook/gitbook.js"></script>
    <script src="../../../../gitbook/theme.js"></script>
    
        
        <script src="../../../../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-github-buttons/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-edit-link/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-fontsettings/fontsettings.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-sharing-plus/buttons.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-search-plus/jquery.mark.min.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-search-plus/search.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-versions-select/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-terminal/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-auto-scroll-table/plugin.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-intopic-toc/anchor.min.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-intopic-toc/gumshoe.polyfills.min.js"></script>
        
    
        
        <script src="../../../../gitbook/gitbook-plugin-intopic-toc/plugin.js"></script>
        
    

    </body>
</html>

